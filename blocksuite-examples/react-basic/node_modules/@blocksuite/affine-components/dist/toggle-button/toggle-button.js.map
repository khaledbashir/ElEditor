{"version":3,"file":"toggle-button.js","sourceRoot":"","sources":["../../src/toggle-button/toggle-button.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,iBAAiB,EAAE,MAAM,uBAAuB,CAAC;AAC1D,OAAO,EAAE,cAAc,EAAE,MAAM,0BAA0B,CAAC;AAC1D,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,MAAM,KAAK,CAAC;AACrC,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC7C,OAAO,EAAE,IAAI,EAAE,MAAM,UAAU,CAAC;AAEhC,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,MAAM,kBAAkB,CAAC;AAE3D,MAAM,CAAC,MAAM,0BAA0B,GAAG,iCAAiC,CAAC;IAE/D,YAAY;sBAAS,cAAc,CAAC,iBAAiB,CAAC;;;;;;;iBAAtD,YAAa,SAAQ,WAAiC;;;qCA2DhE,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;2CAG9B,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAF/B,gLAAS,SAAS,6BAAT,SAAS,6FAAW;YAG7B,kMAAS,eAAe,6BAAf,eAAe,yGAAgC;;;iBA9DxC,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;OAqBvB,SAAS,CAAC,0BAA0B,CAAC;;;;;;;;;;GAUzC,CAAC;QAEO,MAAM;YACb,MAAM,kBAAkB,GAAG,IAAI,CAAA;;;;iBAIlB,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;;UAElD,UAAU;;KAEf,CAAC;YAEF,MAAM,mBAAmB,GAAG,IAAI,CAAA;;;;yBAIX,IAAI,CAAC,SAAS;iBACtB,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;;UAElD,WAAW;;KAEhB,CAAC;YAEF,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,kBAAkB,CAAC;QACnE,CAAC;QAGD,uFAA6B;QAA7B,IAAS,SAAS,+CAAW;QAA7B,IAAS,SAAS,qDAAW;QAG7B,4JAAwD;QAAxD,IAAS,eAAe,qDAAgC;QAAxD,IAAS,eAAe,2DAAgC;;;;;;;SA/D7C,YAAY","sourcesContent":["import { ShadowlessElement } from '@blocksuite/block-std';\nimport { WithDisposable } from '@blocksuite/global/utils';\nimport { css, unsafeCSS } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { html } from 'lit-html';\n\nimport { toggleDown, toggleRight } from '../icons/list.js';\n\nexport const TOGGLE_BUTTON_PARENT_CLASS = 'blocksuite-toggle-button-parent';\n\nexport class ToggleButton extends WithDisposable(ShadowlessElement) {\n  static override styles = css`\n    .toggle-icon {\n      display: flex;\n      align-items: start;\n      margin-top: 0.45em;\n      position: absolute;\n      left: 0;\n      transform: translateX(-100%);\n      border-radius: 4px;\n      cursor: pointer;\n      opacity: 0;\n      transition: opacity 0.2s ease-in-out;\n    }\n    .toggle-icon:hover {\n      background: var(--affine-hover-color);\n    }\n\n    .toggle-icon[data-collapsed='true'] {\n      opacity: 1;\n    }\n\n    .${unsafeCSS(TOGGLE_BUTTON_PARENT_CLASS)}:hover .toggle-icon {\n      opacity: 1;\n    }\n\n    .with-drag-handle .toggle-icon {\n      opacity: 1;\n    }\n    .with-drag-handle .affine-block-children-container .toggle-icon {\n      opacity: 0;\n    }\n  `;\n\n  override render() {\n    const toggleDownTemplate = html`\n      <div\n        contenteditable=\"false\"\n        class=\"toggle-icon\"\n        @click=${() => this.updateCollapsed(!this.collapsed)}\n      >\n        ${toggleDown}\n      </div>\n    `;\n\n    const toggleRightTemplate = html`\n      <div\n        contenteditable=\"false\"\n        class=\"toggle-icon\"\n        data-collapsed=${this.collapsed}\n        @click=${() => this.updateCollapsed(!this.collapsed)}\n      >\n        ${toggleRight}\n      </div>\n    `;\n\n    return this.collapsed ? toggleRightTemplate : toggleDownTemplate;\n  }\n\n  @property({ attribute: false })\n  accessor collapsed!: boolean;\n\n  @property({ attribute: false })\n  accessor updateCollapsed!: (collapsed: boolean) => void;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'blocksuite-toggle-button': ToggleButton;\n  }\n}\n"]}