{"version":3,"file":"type.js","sourceRoot":"","sources":["../../src/peek/type.ts"],"names":[],"mappings":"","sourcesContent":["import type { BlockComponent, BlockStdScope } from '@blocksuite/block-std';\nimport type { DisposableClass } from '@blocksuite/global/utils';\nimport type { LitElement, TemplateResult } from 'lit';\n\nexport type PeekableClass = { std: BlockStdScope } & DisposableClass &\n  LitElement;\n\nexport interface PeekOptions {\n  /**\n   * Abort signal to abort the peek view\n   */\n  abortSignal?: AbortSignal;\n}\n\nexport interface PeekViewService {\n  /**\n   * Peek a target element page ref info\n   * @param pageRef The page ref info to peek.\n   * @returns A promise that resolves when the peek view is closed.\n   */\n  peek(\n    pageRef: {\n      docId: string;\n      blockIds?: string[];\n      databaseId?: string;\n      databaseDocId?: string;\n      databaseRowId?: string;\n      elementIds?: string[];\n      target?: HTMLElement;\n    },\n    options?: PeekOptions\n  ): Promise<void>;\n\n  /**\n   * Peek a target element with a optional template\n   * @param target The target element to peek. There are two use cases:\n   * 1. If the template is not given, peek view content rendering will be delegated to the implementation of peek view service.\n   * 2. To determine the origin of the peek view modal animation\n   * @param template Optional template to render in the peek view modal. If not given, the peek view service will render the content.\n   * @returns A promise that resolves when the peek view is closed.\n   */\n  peek(\n    element: { target: HTMLElement; template?: TemplateResult },\n    options?: PeekOptions\n  ): Promise<void>;\n\n  peek<Element extends BlockComponent>(\n    element: { target: Element; template?: TemplateResult },\n    options?: PeekOptions\n  ): Promise<void>;\n}\n\ntype PeekableAction = 'double-click' | 'shift-click';\n\nexport type PeekableOptions<T extends PeekableClass> = {\n  /**\n   * Action to bind to the peekable element. default to ['double-click', 'shift-click']\n   * false means do not bind any action.\n   */\n  action?: PeekableAction | PeekableAction[] | false;\n  /**\n   * It will check the block is enable to peek or not\n   */\n  enableOn?: (block: T) => boolean;\n  /**\n   * Selector inside of the peekable element to bind the action\n   */\n  selector?: string;\n};\n"]}