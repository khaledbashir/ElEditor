{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/adapters/plain-text/element-adapter/index.ts"],"names":[],"mappings":"AAIA,OAAO,EACL,mBAAmB,GAEpB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,sCAAsC,EAAE,MAAM,qBAAqB,CAAC;AAE7E,MAAM,OAAO,4BAA6B,SAAQ,mBAGjD;IACC,YACW,uBAAgE,sCAAsC;QAE/G,KAAK,EAAE,CAAC;QAFC,yBAAoB,GAApB,oBAAoB,CAAkF;IAGjH,CAAC;IAED,gBAAgB,CACd,OAAgC,EAChC,OAA+C;QAE/C,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAChD,IAAI,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;gBAC3B,OAAO,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,OAAO,IAAI,EAAE,CAAC;YACxD,CAAC;QACH,CAAC;QACD,OAAO,EAAE,CAAC;IACZ,CAAC;CACF","sourcesContent":["import type { TextBuffer } from '@blocksuite/affine-shared/adapters';\n\nimport type { ElementModelToPlainTextAdapterMatcher } from './type.js';\n\nimport {\n  ElementModelAdapter,\n  type ElementModelAdapterContext,\n} from '../../type.js';\nimport { elementModelToPlainTextAdapterMatchers } from './elements/index.js';\n\nexport class PlainTextElementModelAdapter extends ElementModelAdapter<\n  string,\n  TextBuffer\n> {\n  constructor(\n    readonly elementModelMatchers: ElementModelToPlainTextAdapterMatcher[] = elementModelToPlainTextAdapterMatchers\n  ) {\n    super();\n  }\n\n  fromElementModel(\n    element: Record<string, unknown>,\n    context: ElementModelAdapterContext<TextBuffer>\n  ) {\n    for (const matcher of this.elementModelMatchers) {\n      if (matcher.match(element)) {\n        return matcher.toAST(element, context)?.content ?? '';\n      }\n    }\n    return '';\n  }\n}\n"]}