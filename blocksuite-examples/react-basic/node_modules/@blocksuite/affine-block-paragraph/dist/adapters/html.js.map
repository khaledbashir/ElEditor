{"version":3,"file":"html.js","sourceRoot":"","sources":["../../src/adapters/html.ts"],"names":[],"mappings":"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","sourcesContent":["import type { DeltaInsert } from '@blocksuite/inline';\n\nimport { ParagraphBlockSchema } from '@blocksuite/affine-model';\nimport {\n  BlockHtmlAdapterExtension,\n  type BlockHtmlAdapterMatcher,\n  HastUtils,\n} from '@blocksuite/affine-shared/adapters';\nimport { nanoid } from '@blocksuite/store';\n\nconst paragraphBlockMatchTags = [\n  'p',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'blockquote',\n  'body',\n  'div',\n  'span',\n  'footer',\n];\n\nexport const paragraphBlockHtmlAdapterMatcher: BlockHtmlAdapterMatcher = {\n  flavour: ParagraphBlockSchema.model.flavour,\n  toMatch: o =>\n    HastUtils.isElement(o.node) &&\n    paragraphBlockMatchTags.includes(o.node.tagName),\n  fromMatch: o => o.node.flavour === ParagraphBlockSchema.model.flavour,\n  toBlockSnapshot: {\n    enter: (o, context) => {\n      if (!HastUtils.isElement(o.node)) {\n        return;\n      }\n      const { walkerContext, deltaConverter } = context;\n      switch (o.node.tagName) {\n        case 'blockquote': {\n          walkerContext.setGlobalContext('hast:blockquote', true);\n          // Special case for no paragraph in blockquote\n          const texts = HastUtils.getTextChildren(o.node);\n          // check if only blank text\n          const onlyBlankText = texts.every(text => !text.value.trim());\n          if (texts && !onlyBlankText) {\n            walkerContext\n              .openNode(\n                {\n                  type: 'block',\n                  id: nanoid(),\n                  flavour: 'affine:paragraph',\n                  props: {\n                    type: 'quote',\n                    text: {\n                      '$blocksuite:internal:text$': true,\n                      delta: deltaConverter.astToDelta(\n                        HastUtils.getTextChildrenOnlyAst(o.node)\n                      ),\n                    },\n                  },\n                  children: [],\n                },\n                'children'\n              )\n              .closeNode();\n          }\n          break;\n        }\n        case 'body':\n        case 'div':\n        case 'span':\n        case 'footer': {\n          if (\n            o.parent?.node.type === 'element' &&\n            !['li', 'p'].includes(o.parent.node.tagName) &&\n            HastUtils.isParagraphLike(o.node)\n          ) {\n            walkerContext\n              .openNode(\n                {\n                  type: 'block',\n                  id: nanoid(),\n                  flavour: 'affine:paragraph',\n                  props: {\n                    type: 'text',\n                    text: {\n                      '$blocksuite:internal:text$': true,\n                      delta: deltaConverter.astToDelta(o.node),\n                    },\n                  },\n                  children: [],\n                },\n                'children'\n              )\n              .closeNode();\n            walkerContext.skipAllChildren();\n          }\n          break;\n        }\n        case 'p': {\n          walkerContext.openNode(\n            {\n              type: 'block',\n              id: nanoid(),\n              flavour: 'affine:paragraph',\n              props: {\n                type: walkerContext.getGlobalContext('hast:blockquote')\n                  ? 'quote'\n                  : 'text',\n                text: {\n                  '$blocksuite:internal:text$': true,\n                  delta: deltaConverter.astToDelta(o.node),\n                },\n              },\n              children: [],\n            },\n            'children'\n          );\n          break;\n        }\n        case 'h1':\n        case 'h2':\n        case 'h3':\n        case 'h4':\n        case 'h5':\n        case 'h6': {\n          walkerContext\n            .openNode(\n              {\n                type: 'block',\n                id: nanoid(),\n                flavour: 'affine:paragraph',\n                props: {\n                  type: o.node.tagName,\n                  text: {\n                    '$blocksuite:internal:text$': true,\n                    delta: deltaConverter.astToDelta(o.node),\n                  },\n                },\n                children: [],\n              },\n              'children'\n            )\n            .closeNode();\n          walkerContext.skipAllChildren();\n          break;\n        }\n      }\n    },\n    leave: (o, context) => {\n      if (!HastUtils.isElement(o.node)) {\n        return;\n      }\n      const { walkerContext } = context;\n      switch (o.node.tagName) {\n        case 'div': {\n          if (\n            o.parent?.node.type === 'element' &&\n            o.parent.node.tagName !== 'li' &&\n            Array.isArray(o.node.properties?.className)\n          ) {\n            if (\n              o.node.properties.className.includes(\n                'affine-paragraph-block-container'\n              ) ||\n              o.node.properties.className.includes(\n                'affine-block-children-container'\n              ) ||\n              o.node.properties.className.includes('indented')\n            ) {\n              walkerContext.closeNode();\n            }\n          }\n          break;\n        }\n        case 'blockquote': {\n          walkerContext.setGlobalContext('hast:blockquote', false);\n          break;\n        }\n        case 'p': {\n          if (\n            o.next?.type === 'element' &&\n            o.next.tagName === 'div' &&\n            Array.isArray(o.next.properties?.className) &&\n            (o.next.properties.className.includes(\n              'affine-block-children-container'\n            ) ||\n              o.next.properties.className.includes('indented'))\n          ) {\n            // Close the node when leaving div indented\n            break;\n          }\n          walkerContext.closeNode();\n          break;\n        }\n      }\n    },\n  },\n  fromBlockSnapshot: {\n    enter: (o, context) => {\n      const text = (o.node.props.text ?? { delta: [] }) as {\n        delta: DeltaInsert[];\n      };\n      const { walkerContext, deltaConverter } = context;\n      switch (o.node.props.type) {\n        case 'text': {\n          walkerContext\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'div',\n                properties: {\n                  className: ['affine-paragraph-block-container'],\n                },\n                children: [],\n              },\n              'children'\n            )\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'p',\n                properties: {},\n                children: deltaConverter.deltaToAST(text.delta),\n              },\n              'children'\n            )\n            .closeNode()\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'div',\n                properties: {\n                  className: ['affine-block-children-container'],\n                  style: 'padding-left: 26px;',\n                },\n                children: [],\n              },\n              'children'\n            );\n          break;\n        }\n        case 'h1':\n        case 'h2':\n        case 'h3':\n        case 'h4':\n        case 'h5':\n        case 'h6': {\n          walkerContext\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'div',\n                properties: {\n                  className: ['affine-paragraph-block-container'],\n                },\n                children: [],\n              },\n              'children'\n            )\n            .openNode(\n              {\n                type: 'element',\n                tagName: o.node.props.type,\n                properties: {},\n                children: deltaConverter.deltaToAST(text.delta),\n              },\n              'children'\n            )\n            .closeNode()\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'div',\n                properties: {\n                  className: ['affine-block-children-container'],\n                  style: 'padding-left: 26px;',\n                },\n                children: [],\n              },\n              'children'\n            );\n          break;\n        }\n        case 'quote': {\n          walkerContext\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'div',\n                properties: {\n                  className: ['affine-paragraph-block-container'],\n                },\n                children: [],\n              },\n              'children'\n            )\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'blockquote',\n                properties: {\n                  className: ['quote'],\n                },\n                children: [],\n              },\n              'children'\n            )\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'p',\n                properties: {},\n                children: deltaConverter.deltaToAST(text.delta),\n              },\n              'children'\n            )\n            .closeNode()\n            .closeNode()\n            .openNode(\n              {\n                type: 'element',\n                tagName: 'div',\n                properties: {\n                  className: ['affine-block-children-container'],\n                  style: 'padding-left: 26px;',\n                },\n                children: [],\n              },\n              'children'\n            );\n          break;\n        }\n      }\n    },\n    leave: (_, context) => {\n      const { walkerContext } = context;\n      walkerContext.closeNode().closeNode();\n    },\n  },\n};\n\nexport const ParagraphBlockHtmlAdapterExtension = BlockHtmlAdapterExtension(\n  paragraphBlockHtmlAdapterMatcher\n);\n"]}