{"version":3,"file":"database-model.js","sourceRoot":"","sources":["../../../src/blocks/database/database-model.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,UAAU,EAAE,iBAAiB,EAAE,MAAM,mBAAmB,CAAC;AAWlE,MAAM,OAAO,kBAAmB,SAAQ,UAA8B;CAAG;AAEzE,MAAM,CAAC,MAAM,mBAAmB,GAAG,iBAAiB,CAAC;IACnD,OAAO,EAAE,iBAAiB;IAC1B,KAAK,EAAE,CAAC,QAAQ,EAAsB,EAAE,CAAC,CAAC;QACxC,KAAK,EAAE,EAAE;QACT,KAAK,EAAE,QAAQ,CAAC,IAAI,EAAE;QACtB,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;QAC1B,OAAO,EAAE,EAAE;KACZ,CAAC;IACF,QAAQ,EAAE;QACR,IAAI,EAAE,KAAK;QACX,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,CAAC,aAAa,CAAC;QACvB,QAAQ,EAAE,CAAC,kBAAkB,EAAE,aAAa,CAAC;KAC9C;IACD,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,kBAAkB,EAAE;CACxC,CAAC,CAAC","sourcesContent":["import type { Text } from '@blocksuite/store';\n\nimport { BlockModel, defineBlockSchema } from '@blocksuite/store';\n\nimport type { Column, SerializedCells, ViewBasicDataType } from './types.js';\n\nexport type DatabaseBlockProps = {\n  views: ViewBasicDataType[];\n  title: Text;\n  cells: SerializedCells;\n  columns: Array<Column>;\n};\n\nexport class DatabaseBlockModel extends BlockModel<DatabaseBlockProps> {}\n\nexport const DatabaseBlockSchema = defineBlockSchema({\n  flavour: 'affine:database',\n  props: (internal): DatabaseBlockProps => ({\n    views: [],\n    title: internal.Text(),\n    cells: Object.create(null),\n    columns: [],\n  }),\n  metadata: {\n    role: 'hub',\n    version: 3,\n    parent: ['affine:note'],\n    children: ['affine:paragraph', 'affine:list'],\n  },\n  toModel: () => new DatabaseBlockModel(),\n});\n"]}