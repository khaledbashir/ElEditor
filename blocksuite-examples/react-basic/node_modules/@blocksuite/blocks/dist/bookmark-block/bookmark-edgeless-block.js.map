{"version":3,"file":"bookmark-edgeless-block.js","sourceRoot":"","sources":["../../src/bookmark-block/bookmark-edgeless-block.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,iBAAiB,EACjB,gBAAgB,GACjB,MAAM,kCAAkC,CAAC;AAC1C,OAAO,EAAE,mBAAmB,EAAE,MAAM,uBAAuB,CAAC;AAC5D,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AAEvD,OAAO,EAAE,sBAAsB,EAAE,MAAM,qBAAqB,CAAC;AAE7D,MAAM,OAAO,8BAA+B,SAAQ,mBAAmB,CACrE,sBAAsB,CACvB;IAFD;;QAGW,mBAAc,GAAG,KAAK,CAAC;QAiCJ,8CAAuB,EAAE,CAAC;IACxD,CAAC;IAhCU,gBAAgB;QACvB,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;QAC7C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;QAEtC,OAAO;YACL,CAAC,EAAE,YAAY,CAAC,CAAC;YACjB,CAAC,EAAE,YAAY,CAAC,CAAC;YACjB,CAAC,EAAE,gBAAgB,CAAC,KAAK,CAAC;YAC1B,CAAC,EAAE,iBAAiB,CAAC,KAAK,CAAC;YAC3B,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE;SACxB,CAAC;IACJ,CAAC;IAEQ,cAAc;QACrB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;QACtC,MAAM,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtC,MAAM,MAAM,GAAG,iBAAiB,CAAC,KAAK,CAAC,CAAC;QACxC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;QACtC,MAAM,MAAM,GAAG,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;QAC/B,MAAM,MAAM,GAAG,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC;QAEhC,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;YAChC,KAAK,EAAE,MAAM;YACb,MAAM,EAAE,MAAM;YACd,SAAS,EAAE,SAAS,MAAM,KAAK,MAAM,GAAG;YACxC,eAAe,EAAE,KAAK;SACvB,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAClC,CAAC;IAED,uCAAsD;IAAtD,IAA4B,oBAAoB,0DAAM;IAAtD,IAA4B,oBAAoB,gEAAM;CACvD","sourcesContent":["import {\n  EMBED_CARD_HEIGHT,\n  EMBED_CARD_WIDTH,\n} from '@blocksuite/affine-shared/consts';\nimport { toGfxBlockComponent } from '@blocksuite/block-std';\nimport { styleMap } from 'lit/directives/style-map.js';\n\nimport { BookmarkBlockComponent } from './bookmark-block.js';\n\nexport class BookmarkEdgelessBlockComponent extends toGfxBlockComponent(\n  BookmarkBlockComponent\n) {\n  override blockDraggable = false;\n\n  override getRenderingRect() {\n    const elementBound = this.model.elementBound;\n    const style = this.model.style$.value;\n\n    return {\n      x: elementBound.x,\n      y: elementBound.y,\n      w: EMBED_CARD_WIDTH[style],\n      h: EMBED_CARD_HEIGHT[style],\n      zIndex: this.toZIndex(),\n    };\n  }\n\n  override renderGfxBlock() {\n    const style = this.model.style$.value;\n    const width = EMBED_CARD_WIDTH[style];\n    const height = EMBED_CARD_HEIGHT[style];\n    const bound = this.model.elementBound;\n    const scaleX = bound.w / width;\n    const scaleY = bound.h / height;\n\n    this.containerStyleMap = styleMap({\n      width: `100%`,\n      height: `100%`,\n      transform: `scale(${scaleX}, ${scaleY})`,\n      transformOrigin: '0 0',\n    });\n\n    return this.renderPageContent();\n  }\n\n  protected override accessor blockContainerStyles = {};\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'affine-edgeless-bookmark': BookmarkEdgelessBlockComponent;\n  }\n}\n"]}