import type { DatabaseBlockModel } from '@blocksuite/affine-model';
import type { EditorHost } from '@blocksuite/block-std';
import { type InsertToPosition } from '@blocksuite/affine-shared/utils';
import { type DatabaseFlags, DataSourceBase, type DataViewDataType, type PropertyMetaConfig, type TypeInstance, type ViewManager, type ViewMeta } from '@blocksuite/data-view';
import { type ReadonlySignal } from '@preact/signals-core';
export declare class DatabaseBlockDataSource extends DataSourceBase {
    private _batch;
    private readonly _model;
    featureFlags$: ReadonlySignal<DatabaseFlags>;
    properties$: ReadonlySignal<string[]>;
    readonly$: ReadonlySignal<boolean>;
    rows$: ReadonlySignal<string[]>;
    viewConverts: import("@blocksuite/data-view").ViewConvertConfig[];
    viewDataList$: ReadonlySignal<DataViewDataType[]>;
    viewManager: ViewManager;
    viewMetas: ViewMeta[];
    get doc(): import("@blocksuite/store").Doc;
    get propertyMetas(): PropertyMetaConfig<any, any, any>[];
    constructor(model: DatabaseBlockModel);
    private _runCapture;
    private getModelById;
    private newPropertyName;
    cellValueChange(rowId: string, propertyId: string, value: unknown): void;
    cellValueGet(rowId: string, propertyId: string): unknown;
    propertyAdd(insertToPosition: InsertToPosition, type?: string): string;
    propertyDataGet(propertyId: string): Record<string, unknown>;
    propertyDataSet(propertyId: string, data: Record<string, unknown>): void;
    propertyDataTypeGet(propertyId: string): TypeInstance | undefined;
    propertyDelete(id: string): void;
    propertyDuplicate(propertyId: string): string;
    propertyMetaGet(type: string): PropertyMetaConfig;
    propertyNameGet(propertyId: string): string;
    propertyNameSet(propertyId: string, name: string): void;
    propertyReadonlyGet(propertyId: string): boolean;
    propertyTypeGet(propertyId: string): string;
    propertyTypeSet(propertyId: string, toType: string): void;
    rowAdd(insertPosition: InsertToPosition | number): string;
    rowDelete(ids: string[]): void;
    rowMove(rowId: string, position: InsertToPosition): void;
    viewDataAdd(viewData: DataViewDataType): string;
    viewDataDelete(viewId: string): void;
    viewDataDuplicate(id: string): string;
    viewDataGet(viewId: string): DataViewDataType;
    viewDataMoveTo(id: string, position: InsertToPosition): void;
    viewDataUpdate<ViewData extends DataViewDataType>(id: string, updater: (data: ViewData) => Partial<ViewData>): void;
    viewMetaGet(type: string): ViewMeta;
    viewMetaGetById(viewId: string): ViewMeta;
}
export declare const databaseViewAddView: (model: DatabaseBlockModel, viewType: string) => void;
export declare const databaseViewInitEmpty: (model: DatabaseBlockModel, viewType: string) => void;
export declare const databaseViewInitConvert: (model: DatabaseBlockModel, viewType: string) => void;
export declare const databaseViewInitTemplate: (model: DatabaseBlockModel, viewType: string) => void;
export declare const convertToDatabase: (host: EditorHost, viewType: string) => void;
//# sourceMappingURL=data-source.d.ts.map