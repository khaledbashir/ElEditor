{"version":3,"file":"block-zero-width.js","sourceRoot":"","sources":["../../../src/_common/components/block-zero-width.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,OAAO,EAAE,cAAc,EAAE,MAAM,yCAAyC,CAAC;AACzE,OAAO,EAAE,eAAe,EAAE,MAAM,iCAAiC,CAAC;AAClE,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;IAEhC,cAAc;sBAAS,UAAU;;;;iBAAjC,cAAe,SAAQ,WAAU;;;iCAsC3C,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAC/B,oKAAS,KAAK,6BAAL,KAAK,qFAAkB;;;iBAtChB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;GAS3B,AATqB,CASpB;QAcO,iBAAiB;YACxB,KAAK,CAAC,iBAAiB,EAAE,CAAC;YAC1B,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACpD,CAAC;QAEQ,oBAAoB;YAC3B,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACrD,KAAK,CAAC,oBAAoB,EAAE,CAAC;QAC/B,CAAC;QAEQ,MAAM;YACb,OAAO,IAAI,CAAA,sCAAsC,CAAC;QACpD,CAAC;QAGD,wBAAgC;QAAhC,IAAS,KAAK,2CAAkB;QAAhC,IAAS,KAAK,iDAAkB;;;YA3BhC,iBAAY,GAAG,CAAC,CAAa,EAAE,EAAE;gBAC/B,eAAe,CAAC,CAAC,CAAC,CAAC;gBACnB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ;oBAAE,OAAO;gBACpC,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAC3D,IAAI,SAAS,EAAE,OAAO,KAAK,kBAAkB,EAAE,CAAC;oBAC9C,MAAM,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;wBACtE,EAAE,OAAO,EAAE,kBAAkB,EAAE;qBAChC,CAAC,CAAC;oBACH,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;gBACnD,CAAC;YACH,CAAC,CAAC;YAiBO,oFAAuB;;;;;SAvCrB,cAAc","sourcesContent":["import type { BlockComponent } from '@blocksuite/block-std';\n\nimport { focusTextModel } from '@blocksuite/affine-components/rich-text';\nimport { stopPropagation } from '@blocksuite/affine-shared/utils';\nimport { css, html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\n\nexport class BlockZeroWidth extends LitElement {\n  static override styles = css`\n    .block-zero-width {\n      position: absolute;\n      bottom: -15px;\n      height: 10px;\n      width: 100%;\n      cursor: text;\n      z-index: 1;\n    }\n  `;\n\n  _handleClick = (e: MouseEvent) => {\n    stopPropagation(e);\n    if (this.block.doc.readonly) return;\n    const nextBlock = this.block.doc.getNext(this.block.model);\n    if (nextBlock?.flavour !== 'affine:paragraph') {\n      const [paragraphId] = this.block.doc.addSiblingBlocks(this.block.model, [\n        { flavour: 'affine:paragraph' },\n      ]);\n      focusTextModel(this.block.host.std, paragraphId);\n    }\n  };\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    this.addEventListener('click', this._handleClick);\n  }\n\n  override disconnectedCallback(): void {\n    this.removeEventListener('click', this._handleClick);\n    super.disconnectedCallback();\n  }\n\n  override render() {\n    return html`<div class=\"block-zero-width\"></div>`;\n  }\n\n  @property({ attribute: false })\n  accessor block!: BlockComponent;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'block-zero-width': BlockZeroWidth;\n  }\n}\n"]}