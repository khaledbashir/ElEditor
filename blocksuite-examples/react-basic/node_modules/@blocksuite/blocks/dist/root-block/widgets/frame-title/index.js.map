{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/root-block/widgets/frame-title/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAuB,MAAM,0BAA0B,CAAC;AAChF,OAAO,EAAE,eAAe,EAAE,MAAM,uBAAuB,CAAC;AACxD,OAAO,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAC3B,OAAO,EAAE,MAAM,EAAE,MAAM,0BAA0B,CAAC;AAKlD,MAAM,CAAC,MAAM,yBAAyB,GAAG,2BAA2B,CAAC;AAErE,MAAM,OAAO,sBAAuB,SAAQ,eAG3C;IACC,IAAY,OAAO;QACjB,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC;aACxC,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC;aACzB,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,YAAY,eAAe,CAAC,CAAC;IACvD,CAAC;IAED,aAAa,CAAC,KAA+B;QAC3C,MAAM,EAAE,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC;QACxD,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE,aAAa,CAC/C,+BAA+B,EAAE,IAAI,CACX,CAAC;QAC7B,OAAO,UAAU,CAAC;IACpB,CAAC;IAEQ,MAAM;QACb,OAAO,MAAM,CACX,IAAI,CAAC,OAAO,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EACd,KAAK,CAAC,EAAE,CACN,IAAI,CAAA;mBACO,KAAK;oBACJ,KAAK,CAAC,EAAE;+BACG,CAC1B,CAAC;IACJ,CAAC;CACF","sourcesContent":["import { FrameBlockModel, type RootBlockModel } from '@blocksuite/affine-model';\nimport { WidgetComponent } from '@blocksuite/block-std';\nimport { html } from 'lit';\nimport { repeat } from 'lit/directives/repeat.js';\n\nimport type { EdgelessRootBlockComponent } from '../../index.js';\nimport type { AffineFrameTitle } from './frame-title.js';\n\nexport const AFFINE_FRAME_TITLE_WIDGET = 'affine-frame-title-widget';\n\nexport class AffineFrameTitleWidget extends WidgetComponent<\n  RootBlockModel,\n  EdgelessRootBlockComponent\n> {\n  private get _frames() {\n    return Object.values(this.doc.blocks.value)\n      .map(({ model }) => model)\n      .filter(model => model instanceof FrameBlockModel);\n  }\n\n  getFrameTitle(frame: FrameBlockModel | string) {\n    const id = typeof frame === 'string' ? frame : frame.id;\n    const frameTitle = this.shadowRoot?.querySelector(\n      `affine-frame-title[data-id=\"${id}\"]`\n    ) as AffineFrameTitle | null;\n    return frameTitle;\n  }\n\n  override render() {\n    return repeat(\n      this._frames,\n      ({ id }) => id,\n      frame =>\n        html`<affine-frame-title\n          .model=${frame}\n          data-id=${frame.id}\n        ></affine-frame-title>`\n    );\n  }\n}\n"]}