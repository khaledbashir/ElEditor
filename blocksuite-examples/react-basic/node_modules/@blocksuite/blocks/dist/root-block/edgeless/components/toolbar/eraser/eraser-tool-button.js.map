{"version":3,"file":"eraser-tool-button.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/eraser/eraser-tool-button.ts"],"names":[],"mappings":"AAEA,OAAO,EACL,sBAAsB,EACtB,uBAAuB,GACxB,MAAM,qCAAqC,CAAC;AAC7C,OAAO,EAAE,aAAa,EAAE,MAAM,oCAAoC,CAAC;AACnE,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAE5C,OAAO,EAAE,sBAAsB,EAAE,MAAM,gBAAgB,CAAC;AACxD,OAAO,EAAE,wBAAwB,EAAE,MAAM,yBAAyB,CAAC;AAEnE,MAAM,OAAO,wBAAyB,SAAQ,wBAAwB,CACpE,UAAU,CACX;IAFD;;QA0BW,2BAAsB,GAAG,IAAI,CAAC;QAE9B,SAAI,GAAoC,QAAQ,CAAC;IAmC5D,CAAC;aA5DiB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;GAqB3B,AArBqB,CAqBpB;IAMO,YAAY;QACnB,IAAI,CAAC,WAAW,CAAC,GAAG,CAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CACtB;YACE,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,KAAK,QAAQ,EAAE,CAAC;oBACxC,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;gBAC5C,CAAC;YACH,CAAC;SACF,EACD,EAAE,MAAM,EAAE,IAAI,EAAE,CACjB,CACF,CAAC;IACJ,CAAC;IAEQ,MAAM;QACb,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC;QACrC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;QACjE,MAAM,IAAI,GACR,QAAQ,KAAK,MAAM,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,uBAAuB,CAAC;QAEzE,OAAO,IAAI,CAAA;;;mBAGI,sBAAsB,CAAC,QAAQ,EAAE,GAAG,CAAC;yBAC/B,CAAC;kBACR,IAAI,KAAK,QAAQ;iBAClB,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;;qCAE1B,IAAI;;KAEpC,CAAC;IACJ,CAAC","sourcesContent":["import type { GfxToolsFullOptionValue } from '@blocksuite/block-std/gfx';\n\nimport {\n  EdgelessEraserDarkIcon,\n  EdgelessEraserLightIcon,\n} from '@blocksuite/affine-components/icons';\nimport { ThemeProvider } from '@blocksuite/affine-shared/services';\nimport { css, html, LitElement } from 'lit';\n\nimport { getTooltipWithShortcut } from '../../utils.js';\nimport { EdgelessToolbarToolMixin } from '../mixins/tool.mixin.js';\n\nexport class EdgelessEraserToolButton extends EdgelessToolbarToolMixin(\n  LitElement\n) {\n  static override styles = css`\n    :host {\n      height: 100%;\n      overflow-y: hidden;\n    }\n    .eraser-button {\n      display: flex;\n      justify-content: center;\n      align-items: flex-end;\n      position: relative;\n      width: 49px;\n      height: 64px;\n    }\n    #edgeless-eraser-icon {\n      transition: transform 0.3s ease-in-out;\n      transform: translateY(8px);\n    }\n    .eraser-button:hover #edgeless-eraser-icon,\n    .eraser-button.active #edgeless-eraser-icon {\n      transform: translateY(0);\n    }\n  `;\n\n  override enableActiveBackground = true;\n\n  override type: GfxToolsFullOptionValue['type'] = 'eraser';\n\n  override firstUpdated() {\n    this.disposables.add(\n      this.edgeless.bindHotKey(\n        {\n          Escape: () => {\n            if (this.edgelessTool.type === 'eraser') {\n              this.setEdgelessTool({ type: 'default' });\n            }\n          },\n        },\n        { global: true }\n      )\n    );\n  }\n\n  override render() {\n    const type = this.edgelessTool?.type;\n    const appTheme = this.edgeless.std.get(ThemeProvider).app$.value;\n    const icon =\n      appTheme === 'dark' ? EdgelessEraserDarkIcon : EdgelessEraserLightIcon;\n\n    return html`\n      <edgeless-toolbar-button\n        class=\"edgeless-eraser-button\"\n        .tooltip=${getTooltipWithShortcut('Eraser', 'E')}\n        .tooltipOffset=${4}\n        .active=${type === 'eraser'}\n        @click=${() => this.setEdgelessTool({ type: 'eraser' })}\n      >\n        <div class=\"eraser-button\">${icon}</div>\n      </edgeless-toolbar-button>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-eraser-tool-button': EdgelessEraserToolButton;\n  }\n}\n"]}