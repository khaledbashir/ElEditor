{"version":3,"file":"edgeless-dragging-area-rect.js","sourceRoot":"","sources":["../../../../../src/root-block/edgeless/components/rects/edgeless-dragging-area-rect.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,eAAe,EAAE,MAAM,uBAAuB,CAAC;AACxD,OAAO,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAC;AAClD,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,KAAK,CAAC;AACpD,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AAIvD,OAAO,EAAE,WAAW,EAAE,MAAM,gCAAgC,CAAC;AAC7D,OAAO,EAAE,mBAAmB,EAAE,MAAM,wCAAwC,CAAC;AAE7E,MAAM,CAAC,MAAM,6BAA6B,GAAG,6BAA6B,CAAC;AAE3E,MAAM,OAAO,8BAA+B,SAAQ,eAGnD;aACiB,WAAM,GAAG,GAAG,CAAA;;;oBAGV,SAAS,CACrB,QAAQ,CAAC,+CAA+C,EAAE,WAAW,CAAC,CACvE;;;;sBAIe,SAAS,CACvB,QAAQ,CAAC,2CAA2C,EAAE,SAAS,CAAC,CACjE;;;;;GAKJ,CAAC;IAEO,MAAM;QACb,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;QACzD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QAEpD,IACE,IAAI,CAAC,CAAC,KAAK,CAAC;YACZ,IAAI,CAAC,CAAC,KAAK,CAAC;YACZ,CAAC,CAAC,IAAI,YAAY,WAAW,CAAC;YAC9B,IAAI,CAAC,QAAQ,KAAK,mBAAmB,CAAC,SAAS;YAE/C,OAAO,OAAO,CAAC;QAEjB,MAAM,KAAK,GAAG;YACZ,IAAI,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI;YACnB,GAAG,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI;YAClB,KAAK,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI;YACpB,MAAM,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI;SACtB,CAAC;QAEF,OAAO,IAAI,CAAA;yDAC0C,QAAQ,CAAC,KAAK,CAAC;KACnE,CAAC;IACJ,CAAC","sourcesContent":["import type { RootBlockModel } from '@blocksuite/affine-model';\n\nimport { WidgetComponent } from '@blocksuite/block-std';\nimport { cssVarV2 } from '@toeverything/theme/v2';\nimport { css, html, nothing, unsafeCSS } from 'lit';\nimport { styleMap } from 'lit/directives/style-map.js';\n\nimport type { EdgelessRootBlockComponent } from '../../edgeless-root-block.js';\n\nimport { DefaultTool } from '../../gfx-tool/default-tool.js';\nimport { DefaultModeDragType } from '../../gfx-tool/default-tool-ext/ext.js';\n\nexport const EDGELESS_DRAGGING_AREA_WIDGET = 'edgeless-dragging-area-rect';\n\nexport class EdgelessDraggingAreaRectWidget extends WidgetComponent<\n  RootBlockModel,\n  EdgelessRootBlockComponent\n> {\n  static override styles = css`\n    .affine-edgeless-dragging-area {\n      position: absolute;\n      background: ${unsafeCSS(\n        cssVarV2('edgeless/selection/selectionMarqueeBackground', '#1E96EB14')\n      )};\n      box-sizing: border-box;\n      border-width: 1px;\n      border-style: solid;\n      border-color: ${unsafeCSS(\n        cssVarV2('edgeless/selection/selectionMarqueeBorder', '#1E96EB')\n      )};\n\n      z-index: 1;\n      pointer-events: none;\n    }\n  `;\n\n  override render() {\n    const rect = this.block.gfx.tool.draggingViewArea$.value;\n    const tool = this.block.gfx.tool.currentTool$.value;\n\n    if (\n      rect.w === 0 ||\n      rect.h === 0 ||\n      !(tool instanceof DefaultTool) ||\n      tool.dragType !== DefaultModeDragType.Selecting\n    )\n      return nothing;\n\n    const style = {\n      left: rect.x + 'px',\n      top: rect.y + 'px',\n      width: rect.w + 'px',\n      height: rect.h + 'px',\n    };\n\n    return html`\n      <div class=\"affine-edgeless-dragging-area\" style=${styleMap(style)}></div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-dragging-area-rect': EdgelessDraggingAreaRectWidget;\n  }\n}\n"]}