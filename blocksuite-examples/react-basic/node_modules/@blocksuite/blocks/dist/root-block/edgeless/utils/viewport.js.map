{"version":3,"file":"viewport.js","sourceRoot":"","sources":["../../../../src/root-block/edgeless/utils/viewport.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,0BAA0B,CAAC;AAEjE,OAAO,EAAE,qBAAqB,EAAE,MAAM,aAAa,CAAC;AACpD,OAAO,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;AAEzC,MAAM,UAAU,WAAW,CACzB,QAAoB,EACpB,QAAkB,EAClB,UAGI;IACF,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACrB,MAAM,EAAE,IAAI;CACb;IAED,MAAM,UAAU,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5E,MAAM,WAAW,GAAG,cAAc,CAAC,UAAU,CAAC,CAAC;IAC/C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,QAAQ,CAAC,kBAAkB,CAC5D,WAAW,EACX,OAAO,CAAC,OAAO,EACf,YAAY,EACZ,qBAAqB,CACtB,CAAC;IAEF,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;AACjE,CAAC","sourcesContent":["import type { GfxModel, Viewport } from '@blocksuite/block-std/gfx';\n\nimport { Bound, getCommonBound } from '@blocksuite/global/utils';\n\nimport { FIT_TO_SCREEN_PADDING } from './consts.js';\nimport { ZOOM_INITIAL } from './zoom.js';\n\nexport function fitToScreen(\n  elements: GfxModel[],\n  viewport: Viewport,\n  options: {\n    padding?: [number, number, number, number];\n    smooth?: boolean;\n  } = {\n    padding: [0, 0, 0, 0],\n    smooth: true,\n  }\n) {\n  const elemBounds = elements.map(element => Bound.deserialize(element.xywh));\n  const commonBound = getCommonBound(elemBounds);\n  const { zoom, centerX, centerY } = viewport.getFitToScreenData(\n    commonBound,\n    options.padding,\n    ZOOM_INITIAL,\n    FIT_TO_SCREEN_PADDING\n  );\n\n  viewport.setViewport(zoom, [centerX, centerY], options.smooth);\n}\n"]}