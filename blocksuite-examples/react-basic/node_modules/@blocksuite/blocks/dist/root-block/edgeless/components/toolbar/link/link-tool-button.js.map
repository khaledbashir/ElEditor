{"version":3,"file":"link-tool-button.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/link/link-tool-button.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,qCAAqC,CAAC;AAC/D,OAAO,EAAE,iBAAiB,EAAE,MAAM,oCAAoC,CAAC;AACvE,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAE5C,OAAO,EAAE,sBAAsB,EAAE,MAAM,gBAAgB,CAAC;AACxD,OAAO,EAAE,cAAc,EAAE,MAAM,+BAA+B,CAAC;AAE/D,MAAM,OAAO,sBAAuB,SAAQ,cAAc,CAAC,UAAU,CAAC;IAAtE;;QASW,SAAI,GAAG,SAAkB,CAAC;IA8CrC,CAAC;aAtDiB,WAAM,GAAG,GAAG,CAAA;;;;;;GAM3B,AANqB,CAMpB;IAIM,QAAQ;QACd,MAAM,EAAE,gBAAgB,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CACzD,yBAAyB,CAC1B,CAAC;QACF,gBAAgB;YACd,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;YACZ,MAAM,OAAO,GAAG,IAAI,EAAE,OAAO,CAAC;YAC9B,IAAI,CAAC,OAAO;gBAAE,OAAO;YAErB,IAAI,CAAC,QAAQ,CAAC,GAAG;iBACd,WAAW,CAAC,iBAAiB,CAAC;gBAC/B,EAAE,KAAK,CAAC,oBAAoB,EAAE;gBAC5B,OAAO,EAAE,iBAAiB;gBAC1B,IAAI,EAAE,mBAAmB;gBACzB,MAAM,EAAE,SAAS;gBACjB,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aAC5B,CAAC,CAAC;YAEL,IAAI,CAAC,QAAQ,CAAC,GAAG;iBACd,WAAW,CAAC,iBAAiB,CAAC;gBAC/B,EAAE,KAAK,CAAC,kBAAkB,EAAE;gBAC1B,OAAO,EAAE,OAAO;gBAChB,IAAI,EAAE,mBAAmB;gBACzB,MAAM,EAAE,kBAAkB;gBAC1B,OAAO,EAAE,YAAY;gBACrB,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC3B,KAAK,EAAE,cAAc;aACtB,CAAC,CAAC;QACP,CAAC,CAAC;aACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC1B,CAAC;IAEQ,MAAM;QACb,OAAO,IAAI,CAAA;+BACgB,CAAC;kBACd,sBAAsB,CAAC,MAAM,EAAE,GAAG,CAAC;uBAC9B,EAAE;;eAEV,IAAI,CAAC,QAAQ;;gCAEI,QAAQ;iCACP,CAAC;IAChC,CAAC","sourcesContent":["import { LinkIcon } from '@blocksuite/affine-components/icons';\nimport { TelemetryProvider } from '@blocksuite/affine-shared/services';\nimport { css, html, LitElement } from 'lit';\n\nimport { getTooltipWithShortcut } from '../../utils.js';\nimport { QuickToolMixin } from '../mixins/quick-tool.mixin.js';\n\nexport class EdgelessLinkToolButton extends QuickToolMixin(LitElement) {\n  static override styles = css`\n    .link-icon,\n    .link-icon > svg {\n      width: 24px;\n      height: 24px;\n    }\n  `;\n\n  override type = 'default' as const;\n\n  private _onClick() {\n    const { insertedLinkType } = this.edgeless.std.command.exec(\n      'insertLinkByQuickSearch'\n    );\n    insertedLinkType\n      ?.then(type => {\n        const flavour = type?.flavour;\n        if (!flavour) return;\n\n        this.edgeless.std\n          .getOptional(TelemetryProvider)\n          ?.track('CanvasElementAdded', {\n            control: 'toolbar:general',\n            page: 'whiteboard editor',\n            module: 'toolbar',\n            segment: 'toolbar',\n            type: flavour.split(':')[1],\n          });\n\n        this.edgeless.std\n          .getOptional(TelemetryProvider)\n          ?.track('LinkedDocCreated', {\n            control: 'links',\n            page: 'whiteboard editor',\n            module: 'edgeless toolbar',\n            segment: 'whiteboard',\n            type: flavour.split(':')[1],\n            other: 'existing doc',\n          });\n      })\n      .catch(console.error);\n  }\n\n  override render() {\n    return html`<edgeless-tool-icon-button\n      .iconContainerPadding=\"${6}\"\n      .tooltip=\"${getTooltipWithShortcut('Link', '@')}\"\n      .tooltipOffset=${17}\n      class=\"edgeless-link-tool-button\"\n      @click=${this._onClick}\n    >\n      <span class=\"link-icon\">${LinkIcon}</span>\n    </edgeless-tool-icon-button>`;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-link-tool-button': EdgelessLinkToolButton;\n  }\n}\n"]}