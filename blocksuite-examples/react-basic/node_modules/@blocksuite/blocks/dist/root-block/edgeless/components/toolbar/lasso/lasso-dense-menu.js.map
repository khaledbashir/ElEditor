{"version":3,"file":"lasso-dense-menu.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/lasso/lasso-dense-menu.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,4CAA4C,CAAC;AAClE,OAAO,EACL,iBAAiB,EACjB,kBAAkB,GACnB,MAAM,qCAAqC,CAAC;AAI7C,OAAO,EAAE,SAAS,EAAE,MAAM,iCAAiC,CAAC;AAE5D,MAAM,CAAC,MAAM,mBAAmB,GAAqB,QAAQ,CAAC,EAAE;IAC9D,qBAAqB;IACrB,mBAAmB;IACnB,kEAAkE;IAClE,wBAAwB;IAExB,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,OAAO,CAAC;IAEvE,MAAM,YAAY,GAAG,CAAC,IAAe,EAAE,EAAE,CAAC,GAAG,EAAE;QAC7C,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;IAC/C,CAAC,CAAC;IAEF,OAAO,IAAI,CAAC,OAAO,CAAC;QAClB,IAAI,EAAE,OAAO;QACb,MAAM,EAAE,iBAAiB;QACzB,MAAM,EAAE,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC;QACxC,UAAU,EAAE,QAAQ;QACpB,OAAO,EAAE;YACP,KAAK,EAAE;gBACL,IAAI,CAAC,MAAM,CAAC;oBACV,MAAM,EAAE,iBAAiB;oBACzB,IAAI,EAAE,MAAM;oBACZ,MAAM,EAAE,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACxC,2DAA2D;iBAC5D,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC;oBACV,MAAM,EAAE,kBAAkB;oBAC1B,IAAI,EAAE,WAAW;oBACjB,MAAM,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC;oBACzC,4DAA4D;iBAC7D,CAAC;aACH;SACF;KACF,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { menu } from '@blocksuite/affine-components/context-menu';\nimport {\n  LassoFreeHandIcon,\n  LassoPolygonalIcon,\n} from '@blocksuite/affine-components/icons';\n\nimport type { DenseMenuBuilder } from '../common/type.js';\n\nimport { LassoMode } from '../../../../../_common/types.js';\n\nexport const buildLassoDenseMenu: DenseMenuBuilder = edgeless => {\n  // TODO: active state\n  // const prevMode =\n  //   edgeless.service.editPropsStore.getLastProps('lasso').mode ??\n  //   LassoMode.FreeHand;\n\n  const isActive = edgeless.gfx.tool.currentToolName$.peek() === 'lasso';\n\n  const createSelect = (mode: LassoMode) => () => {\n    edgeless.gfx.tool.setTool('lasso', { mode });\n  };\n\n  return menu.subMenu({\n    name: 'Lasso',\n    prefix: LassoFreeHandIcon,\n    select: createSelect(LassoMode.FreeHand),\n    isSelected: isActive,\n    options: {\n      items: [\n        menu.action({\n          prefix: LassoFreeHandIcon,\n          name: 'Free',\n          select: createSelect(LassoMode.FreeHand),\n          // isSelected: isActive && prevMode === LassoMode.FreeHand,\n        }),\n        menu.action({\n          prefix: LassoPolygonalIcon,\n          name: 'Polygonal',\n          select: createSelect(LassoMode.Polygonal),\n          // isSelected: isActive && prevMode === LassoMode.Polygonal,\n        }),\n      ],\n    },\n  });\n};\n"]}