{"version":3,"file":"frame-order-button.js","sourceRoot":"","sources":["../../../../../../src/root-block/edgeless/components/toolbar/present/frame-order-button.ts"],"names":[],"mappings":"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","sourcesContent":["import type { FrameBlockModel } from '@blocksuite/affine-model';\n\nimport { FrameOrderAdjustmentIcon } from '@blocksuite/affine-components/icons';\nimport { createButtonPopper } from '@blocksuite/affine-shared/utils';\nimport { WithDisposable } from '@blocksuite/global/utils';\nimport { css, html, LitElement } from 'lit';\nimport { property, query } from 'lit/decorators.js';\n\nimport type { EdgelessRootBlockComponent } from '../../../edgeless-root-block.js';\nimport type { EdgelessFrameOrderMenu } from './frame-order-menu.js';\n\nexport class EdgelessFrameOrderButton extends WithDisposable(LitElement) {\n  static override styles = css`\n    edgeless-frame-order-menu {\n      display: none;\n    }\n\n    edgeless-frame-order-menu[data-show] {\n      display: initial;\n    }\n  `;\n\n  private _edgelessFrameOrderPopper: ReturnType<\n    typeof createButtonPopper\n  > | null = null;\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this._edgelessFrameOrderPopper?.dispose();\n  }\n\n  override firstUpdated() {\n    this._edgelessFrameOrderPopper = createButtonPopper(\n      this._edgelessFrameOrderButton,\n      this._edgelessFrameOrderMenu,\n      ({ display }) => this.setPopperShow(display === 'show'),\n      {\n        mainAxis: 22,\n      }\n    );\n  }\n\n  protected override render() {\n    const { readonly } = this.edgeless.doc;\n    return html`\n      <style>\n        .edgeless-frame-order-button svg {\n          color: ${readonly ? 'var(--affine-text-disable-color)' : 'inherit'};\n        }\n      </style>\n      <edgeless-tool-icon-button\n        class=\"edgeless-frame-order-button\"\n        .tooltip=${this.popperShow ? '' : 'Frame Order'}\n        @click=${() => {\n          if (readonly) return;\n          this._edgelessFrameOrderPopper?.toggle();\n        }}\n        .iconContainerPadding=${0}\n      >\n        ${FrameOrderAdjustmentIcon}\n      </edgeless-tool-icon-button>\n      <edgeless-frame-order-menu .edgeless=${this.edgeless}>\n      </edgeless-frame-order-menu>\n    `;\n  }\n\n  @query('.edgeless-frame-order-button')\n  private accessor _edgelessFrameOrderButton!: HTMLElement;\n\n  @query('edgeless-frame-order-menu')\n  private accessor _edgelessFrameOrderMenu!: EdgelessFrameOrderMenu;\n\n  @property({ attribute: false })\n  accessor edgeless!: EdgelessRootBlockComponent;\n\n  @property({ attribute: false })\n  accessor frames!: FrameBlockModel[];\n\n  @property({ attribute: false })\n  accessor popperShow = false;\n\n  @property({ attribute: false })\n  accessor setPopperShow: (show: boolean) => void = () => {};\n}\n"]}