{"version":3,"file":"tools-view.js","sourceRoot":"","sources":["../../../src/widget-presets/tools/tools-view.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AACvD,OAAO,EAAE,MAAM,EAAE,MAAM,0BAA0B,CAAC;AAMlD,OAAO,EAAyB,YAAY,EAAE,MAAM,qBAAqB,CAAC;AAC1E,OAAO,EAAE,UAAU,EAAE,MAAM,kCAAkC,CAAC;AAE9D,MAAM,MAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BjB,CAAC;IAEW,mBAAmB;sBAAS,UAAU;;;;;;;iBAAtC,mBAAoB,SAAQ,WAAU;;;uCAkBhD,KAAK,EAAE;oCAGP,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAF/B,sLAAS,WAAW,6BAAX,WAAW,iGAAS;YAG7B,6KAAS,QAAQ,6BAAR,QAAQ,2FAAoC;;;iBArBrC,WAAM,GAAG,MAAM,CAAC;QAEvB,MAAM;YACb,MAAM,SAAS,GAAG,QAAQ,CAAC;gBACzB,cAAc,EAAE,SAAS;gBACzB,yBAAyB,EAAE,IAAI;aAChC,CAAC,CAAC;YACH,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5C,OAAO,IAAI,CAAA,gBAAgB,SAAS;QAChC,MAAM,CAAC,KAAK,IAAI,EAAE,EAAE,GAAG,CAAC,EAAE;gBAC1B,OAAO,YAAY,CAAC,GAAG,EAAE;oBACvB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;iBACxC,CAAC,CAAC;YACL,CAAC,CAAC;WACG,CAAC;QACV,CAAC;QAGD,mFAAuB,KAAK,EAAC;QAA7B,IAAS,WAAW,iDAAS;QAA7B,IAAS,WAAW,uDAAS;QAG7B,gJAAqD;QAArD,IAAS,QAAQ,8CAAoC;QAArD,IAAS,QAAQ,oDAAoC;;;;;;;SAtB1C,mBAAmB;AA8BhC,MAAM,CAAC,MAAM,WAAW,GAAG,CACzB,IAAgB,EAChB,WAA6B,EAC7B,UAAuB,EACvB,EAAE;IACF,OAAO,IAAI,CAAA;oBACO,WAAW;aAClB,IAAI;mBACE,UAAU;6BACA,CAAC;AAC9B,CAAC,CAAC","sourcesContent":["import { IS_MOBILE } from '@blocksuite/global/env';\nimport { css, html } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { repeat } from 'lit/directives/repeat.js';\n\nimport type { SingleView } from '../../core/view-manager/single-view.js';\nimport type { ViewManager } from '../../core/view-manager/view-manager.js';\nimport type { DataViewWidget } from '../../core/widget/types.js';\n\nimport { type DataViewInstance, renderUniLit } from '../../core/index.js';\nimport { WidgetBase } from '../../core/widget/widget-base.js';\n\nconst styles = css`\n  .affine-database-toolbar {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    opacity: 0;\n    transition: opacity 150ms cubic-bezier(0.42, 0, 1, 1);\n  }\n\n  .toolbar-hover-container:hover .affine-database-toolbar {\n    visibility: visible;\n    opacity: 1;\n  }\n  .toolbar-hover-container:has(.active) .affine-database-toolbar {\n    visibility: visible;\n    opacity: 1;\n  }\n\n  .show-toolbar {\n    visibility: visible;\n    opacity: 1;\n  }\n\n  @media print {\n    .affine-database-toolbar {\n      display: none;\n    }\n  }\n`;\n\nexport class DataViewHeaderTools extends WidgetBase {\n  static override styles = styles;\n\n  override render() {\n    const classList = classMap({\n      'show-toolbar': IS_MOBILE,\n      'affine-database-toolbar': true,\n    });\n    const tools = this.toolsMap[this.view.type];\n    return html` <div class=\"${classList}\">\n      ${repeat(tools ?? [], uni => {\n        return renderUniLit(uni, {\n          dataViewInstance: this.dataViewInstance,\n        });\n      })}\n    </div>`;\n  }\n\n  @state()\n  accessor showToolBar = false;\n\n  @property({ attribute: false })\n  accessor toolsMap!: Record<string, DataViewWidget[]>;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'data-view-header-tools': DataViewHeaderTools;\n  }\n}\nexport const renderTools = (\n  view: SingleView,\n  viewMethods: DataViewInstance,\n  viewSource: ViewManager\n) => {\n  return html` <data-view-header-tools\n    .viewMethods=\"${viewMethods}\"\n    .view=\"${view}\"\n    .viewSource=\"${viewSource}\"\n  ></data-view-header-tools>`;\n};\n"]}