{"version":3,"file":"condition-view.js","sourceRoot":"","sources":["../../../../src/widget-presets/quick-setting-bar/filter/condition-view.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  menu,\n  popFilterableSimpleMenu,\n  popMenu,\n  type PopupTarget,\n  popupTargetFromElement,\n  subMenuMiddleware,\n} from '@blocksuite/affine-components/context-menu';\nimport { ShadowlessElement } from '@blocksuite/block-std';\nimport { SignalWatcher } from '@blocksuite/global/utils';\nimport {\n  ArrowDownSmallIcon,\n  ArrowRightSmallIcon,\n  DeleteIcon,\n} from '@blocksuite/icons/lit';\nimport { computed, type ReadonlySignal } from '@preact/signals-core';\nimport { css, html } from 'lit';\nimport { property } from 'lit/decorators.js';\n\nimport type { Variable } from '../../../core/expression/types.js';\nimport type { Filter, SingleFilter } from '../../../core/filter/types.js';\n\nimport { getRefType } from '../../../core/expression/ref/ref.js';\nimport { filterMatcher } from '../../../core/filter/filter-fn/matcher.js';\nimport { literalItemsMatcher } from '../../../core/filter/literal/index.js';\nimport {\n  renderUniLit,\n  t,\n  type TypeInstance,\n  typeSystem,\n} from '../../../core/index.js';\n\nexport class FilterConditionView extends SignalWatcher(ShadowlessElement) {\n  static override styles = css`\n    filter-condition-view {\n    }\n\n    .filter-condition-expression {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n\n    .filter-condition-delete {\n      border-radius: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: max-content;\n      cursor: pointer;\n    }\n\n    .filter-condition-delete:hover {\n      background-color: var(--affine-hover-color);\n    }\n\n    .filter-condition-delete svg {\n      width: 16px;\n      height: 16px;\n    }\n\n    .filter-condition-function-name {\n      font-size: 12px;\n      line-height: 20px;\n      color: var(--affine-text-secondary-color);\n      padding: 2px 8px;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    .filter-condition-function-name:hover {\n      background-color: var(--affine-hover-color);\n    }\n\n    .filter-condition-arg {\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 600;\n      padding: 0 4px;\n      height: 100%;\n      display: flex;\n      align-items: center;\n    }\n  `;\n\n  private onClickButton = (evt: Event) => {\n    this.popConditionEdit(\n      popupTargetFromElement(evt.currentTarget as HTMLElement)\n    );\n  };\n\n  private popConditionEdit = (target: PopupTarget) => {\n    const type = this.leftVar$.value?.type;\n    if (!type) {\n      return;\n    }\n    const fn = this.fnConfig$.value;\n    if (!fn) {\n      popFilterableSimpleMenu(target, this.getFunctionItems(target));\n      return;\n    }\n    const handler = popMenu(target, {\n      options: {\n        items: [\n          menu.group({\n            items: [\n              menu.action({\n                name: fn.label,\n                postfix: ArrowRightSmallIcon(),\n                select: ele => {\n                  popMenu(popupTargetFromElement(ele), {\n                    options: {\n                      items: [\n                        menu.group({\n                          items: this.getFunctionItems(target, () => {\n                            handler.close();\n                          }),\n                        }),\n                      ],\n                    },\n                    middleware: subMenuMiddleware,\n                  });\n                  return false;\n                },\n              }),\n            ],\n          }),\n          menu.dynamic(() => this.getArgsItems()),\n          menu.group({\n            items: [\n              menu.action({\n                name: 'Delete',\n                class: { 'delete-item': true },\n                prefix: DeleteIcon(),\n                select: () => {\n                  const list = this.value.value.slice();\n                  list.splice(this.index, 1);\n                  this.onChange(list);\n                },\n              }),\n            ],\n          }),\n        ],\n      },\n    });\n  };\n\n  @property({ attribute: false })\n  accessor value!: ReadonlySignal<Filter[]>;\n\n  filter$ = computed(() => {\n    const filter = this.value.value[this.index];\n    if (!filter || filter.type !== 'filter') {\n      return;\n    }\n    return filter;\n  });\n\n  args$ = computed(() => {\n    return this.filter$.value?.args.map(v => v.value);\n  });\n\n  fnConfig$ = computed(() => {\n    return filterMatcher.getFilterByName(this.filter$.value?.function);\n  });\n\n  @property({ attribute: false })\n  accessor vars!: ReadonlySignal<Variable[]>;\n\n  fnType$ = computed(() => {\n    const fnConfig = this.fnConfig$.value;\n    const filter = this.filter$.value;\n    if (!fnConfig || !filter) {\n      return;\n    }\n    const refType = getRefType(this.vars.value, filter.left);\n    if (!refType) {\n      return;\n    }\n    const fnTemplate = t.fn.instance(\n      [fnConfig.self, ...fnConfig.args],\n      t.boolean.instance(),\n      fnConfig.vars\n    );\n    return typeSystem.instanceFn(\n      fnTemplate,\n      [refType],\n      t.boolean.instance(),\n      {}\n    );\n  });\n\n  getFunctionItems = (target: PopupTarget, onSelect?: () => void) => {\n    const filter = this.filter$.value;\n    if (!filter) {\n      return [];\n    }\n    const type = getRefType(this.vars.value, filter?.left);\n    if (!type) {\n      return [];\n    }\n    return filterMatcher.filterListBySelfType(type).map(v => {\n      const selected = v.name === filter.function;\n      return menu.action({\n        name: v.label,\n        isSelected: selected,\n        select: () => {\n          this.setFilter({\n            ...filter,\n            function: v.name,\n          });\n          onSelect?.();\n          this.popConditionEdit(target);\n        },\n      });\n    });\n  };\n\n  leftVar$ = computed(() => {\n    return this.vars.value.find(v => v.id === this.filter$.value?.left.name);\n  });\n\n  setFilter = (filter: SingleFilter) => {\n    const list = this.value.value.slice();\n    list[this.index] = filter;\n    this.onChange(list);\n  };\n\n  text$ = computed(() => {\n    const name = this.leftVar$.value?.name ?? '';\n    const data = this.fnConfig$.value;\n    const type = this.fnType$.value;\n    const argValues = this.args$.value;\n    if (!type || !argValues || !data) {\n      return;\n    }\n    const argDataList = argValues.map((v, i) =>\n      v ? { value: v, type: type.args[i + 1] } : undefined\n    );\n    const valueString = data.shortString?.(...argDataList) ?? '';\n    if (valueString) {\n      return `${name}${valueString}`;\n    }\n    return name;\n  });\n\n  private getArgItems(argType: TypeInstance, index: number) {\n    return literalItemsMatcher.getItems(\n      argType,\n      computed(() => {\n        return this.filter$.value?.args[index]?.value;\n      }),\n      value => {\n        const filter = this.filter$.value;\n        if (!filter) {\n          return;\n        }\n        const args = filter.args.slice();\n        args[index] = { type: 'literal', value };\n        this.setFilter({\n          ...filter,\n          args: args,\n        });\n      }\n    );\n  }\n\n  private getArgsItems() {\n    return (\n      this.fnType$.value?.args\n        .slice(1)\n        .flatMap((arg, i) => this.getArgItems(arg, i)) ?? []\n    );\n  }\n\n  override render() {\n    const leftVar = this.leftVar$.value;\n    if (!leftVar) {\n      return html` <data-view-component-button\n        hoverType=\"border\"\n        .text=\"${html`Invalid filter rule`}\"\n      ></data-view-component-button>`;\n    }\n    return html`\n      <data-view-component-button\n        hoverType=\"border\"\n        .icon=\"${renderUniLit(leftVar.icon)}\"\n        @click=\"${this.onClickButton}\"\n        .text=\"${html`<span\n          style=\"overflow: hidden;max-width: 230px;text-overflow: ellipsis\"\n          >${this.text$.value}</span\n        >`}\"\n        .postfix=\"${ArrowDownSmallIcon()}\"\n      ></data-view-component-button>\n    `;\n  }\n\n  @property({ attribute: false })\n  accessor index!: number;\n\n  @property({ attribute: false })\n  accessor onChange!: (filters: Filter[]) => void;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'filter-condition-view': FilterConditionView;\n  }\n}\n"]}