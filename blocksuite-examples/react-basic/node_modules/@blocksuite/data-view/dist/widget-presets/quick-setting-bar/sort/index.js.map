{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/widget-presets/quick-setting-bar/sort/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,sBAAsB,EAAE,MAAM,4CAA4C,CAAC;AACpF,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAI3B,OAAO,EAAE,YAAY,EAAE,MAAM,+BAA+B,CAAC;AAC7D,OAAO,EAAE,eAAe,EAAE,MAAM,6BAA6B,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAE9C,MAAM,CAAC,MAAM,aAAa,GAAG,CAAC,KAA0B,EAAE,EAAE;IAC1D,MAAM,SAAS,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACrE,IAAI,CAAC,SAAS,EAAE,CAAC;QACf,OAAO;IACT,CAAC;IACD,MAAM,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;IAC/C,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;QAChB,OAAO;IACT,CAAC;IACD,MAAM,IAAI,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAA,GAAG,KAAK,QAAQ,CAAC;IAC/D,MAAM,KAAK,GAAG,CAAC,KAAiB,EAAE,EAAE;QAClC,WAAW,CAAC,sBAAsB,CAAC,KAAK,CAAC,aAA4B,CAAC,EAAE;YACtE,SAAS,EAAE,eAAe,CAAC,SAAS,EAAE,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC;SACzE,CAAC,CAAC;IACL,CAAC,CAAC;IACF,OAAO,IAAI,CAAA;;gBAEG,KAAK;;aAER,QAAQ,EAAE;aACV,IAAI;iCACgB,CAAC;AAClC,CAAC,CAAC","sourcesContent":["import { popupTargetFromElement } from '@blocksuite/affine-components/context-menu';\nimport { SortIcon } from '@blocksuite/icons/lit';\nimport { html } from 'lit';\n\nimport type { DataViewWidgetProps } from '../../../core/widget/types.js';\n\nimport { sortTraitKey } from '../../../core/sort/manager.js';\nimport { createSortUtils } from '../../../core/sort/utils.js';\nimport { popSortRoot } from './root-panel.js';\n\nexport const renderSortBar = (props: DataViewWidgetProps) => {\n  const sortTrait = props.dataViewInstance.view.traitGet(sortTraitKey);\n  if (!sortTrait) {\n    return;\n  }\n  const count = sortTrait.sortList$.value.length;\n  if (count === 0) {\n    return;\n  }\n  const text = count === 1 ? html`1 Sort` : html`${count} Sorts`;\n  const click = (event: MouseEvent) => {\n    popSortRoot(popupTargetFromElement(event.currentTarget as HTMLElement), {\n      sortUtils: createSortUtils(sortTrait, props.dataViewInstance.eventTrace),\n    });\n  };\n  return html` <data-view-component-button\n    class=\"data-view-sort-button\"\n    .onClick=\"${click}\"\n    hoverType=\"border\"\n    .icon=\"${SortIcon()}\"\n    .text=\"${text}\"\n  ></data-view-component-button>`;\n};\n"]}