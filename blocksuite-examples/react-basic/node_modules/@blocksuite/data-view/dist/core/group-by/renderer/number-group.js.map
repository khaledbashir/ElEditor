{"version":3,"file":"number-group.js","sourceRoot":"","sources":["../../../../src/core/group-by/renderer/number-group.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,IAAI,EACJ,OAAO,EACP,sBAAsB,GACvB,MAAM,4CAA4C,CAAC;AACpD,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAEhC,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAC;AAEtC,MAAM,OAAO,eAAgB,SAAQ,SAAuC;IAA5E;;QAcU,WAAM,GAAG,GAAG,EAAE;YACpB,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,OAAO;YACT,CAAC;YACD,OAAO,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE;gBACpC,OAAO,EAAE;oBACP,KAAK,EAAE;wBACL,IAAI,CAAC,KAAK,CAAC;4BACT,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE;4BACpD,QAAQ,EAAE,IAAI,CAAC,EAAE;gCACf,MAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gCACpC,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC;oCACtB,OAAO;gCACT,CAAC;gCACD,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC;4BAC1B,CAAC;yBACF,CAAC;qBACH;iBACF;aACF,CAAC,CAAC;QACL,CAAC,CAAC;IAqBJ,CAAC;aAtDiB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;;GAW3B,AAXqB,CAWpB;IAwBiB,MAAM;QACvB,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;YACvB,OAAO,IAAI,CAAA,sBAAsB,CAAC;QACpC,CAAC;QACD,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,EAAE,CAAC;YACrB,OAAO,IAAI,CAAA;kBACC,IAAI,CAAC,MAAM;;;;aAIhB,CAAC;QACV,CAAC;QACD,OAAO,IAAI,CAAA;gBACC,IAAI,CAAC,MAAM;;;QAGnB,IAAI,CAAC,KAAK,GAAG,EAAE,MAAM,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,CAAC;WACrC,CAAC;IACV,CAAC","sourcesContent":["import {\n  menu,\n  popMenu,\n  popupTargetFromElement,\n} from '@blocksuite/affine-components/context-menu';\nimport { css, html } from 'lit';\n\nimport { BaseGroup } from './base.js';\n\nexport class NumberGroupView extends BaseGroup<NonNullable<unknown>, number> {\n  static override styles = css`\n    .data-view-group-title-number-view {\n      border-radius: 8px;\n      padding: 4px 8px;\n      width: max-content;\n      cursor: pointer;\n    }\n\n    .data-view-group-title-number-view:hover {\n      background-color: var(--affine-hover-color);\n    }\n  `;\n\n  private _click = () => {\n    if (this.readonly) {\n      return;\n    }\n    popMenu(popupTargetFromElement(this), {\n      options: {\n        items: [\n          menu.input({\n            initialValue: this.value ? `${this.value * 10}` : '',\n            onChange: text => {\n              const num = Number.parseFloat(text);\n              if (Number.isNaN(num)) {\n                return;\n              }\n              this.updateValue?.(num);\n            },\n          }),\n        ],\n      },\n    });\n  };\n\n  protected override render(): unknown {\n    if (this.value == null) {\n      return html` <div>Ungroups</div>`;\n    }\n    if (this.value >= 10) {\n      return html` <div\n        @click=\"${this._click}\"\n        class=\"data-view-group-title-number-view\"\n      >\n        >= 100\n      </div>`;\n    }\n    return html` <div\n      @click=\"${this._click}\"\n      class=\"data-view-group-title-number-view\"\n    >\n      ${this.value * 10} - ${this.value * 10 + 9}\n    </div>`;\n  }\n}\n"]}