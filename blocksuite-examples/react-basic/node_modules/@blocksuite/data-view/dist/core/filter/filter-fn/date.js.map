{"version":3,"file":"date.js","sourceRoot":"","sources":["../../../../src/core/filter/filter-fn/date.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC3C,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AACzC,OAAO,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAE3C,OAAO,EAAE,CAAC,EAAE,MAAM,+BAA+B,CAAC;AAClD,OAAO,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;AAE3C,MAAM,CAAC,MAAM,UAAU,GAAG;IACxB,YAAY,CAAC;QACX,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE;QACvB,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAU;QAClC,KAAK,EAAE,QAAQ;QACf,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,MAAM,CAAC,CAAC,CAAC,KAAK,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QACzE,IAAI,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;YACpB,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;gBACjB,OAAO,KAAK,CAAC;YACf,CAAC;YACD,OAAO,IAAI,GAAG,KAAK,CAAC;QACtB,CAAC;QACD,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE;KACpD,CAAC;IACF,YAAY,CAAC;QACX,IAAI,EAAE,OAAO;QACb,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE;QACvB,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAU;QAClC,KAAK,EAAE,OAAO;QACd,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,MAAM,CAAC,CAAC,CAAC,KAAK,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QACzE,IAAI,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;YACpB,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;gBACjB,OAAO,KAAK,CAAC;YACf,CAAC;YACD,OAAO,IAAI,GAAG,KAAK,CAAC;QACtB,CAAC;QACD,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE;KACpD,CAAC;CACH,CAAC","sourcesContent":["import { addDays } from 'date-fns/addDays';\nimport { format } from 'date-fns/format';\nimport { subDays } from 'date-fns/subDays';\n\nimport { t } from '../../logical/type-presets.js';\nimport { createFilter } from './create.js';\n\nexport const dateFilter = [\n  createFilter({\n    name: 'before',\n    self: t.date.instance(),\n    args: [t.date.instance()] as const,\n    label: 'Before',\n    shortString: v => (v ? ` < ${format(v.value, 'yyyy/MM/dd')}` : undefined),\n    impl: (self, value) => {\n      if (self == null) {\n        return false;\n      }\n      return self < value;\n    },\n    defaultValue: args => subDays(args[0], 1).getTime(),\n  }),\n  createFilter({\n    name: 'after',\n    self: t.date.instance(),\n    args: [t.date.instance()] as const,\n    label: 'After',\n    shortString: v => (v ? ` > ${format(v.value, 'yyyy/MM/dd')}` : undefined),\n    impl: (self, value) => {\n      if (self == null) {\n        return false;\n      }\n      return self > value;\n    },\n    defaultValue: args => addDays(args[0], 1).getTime(),\n  }),\n];\n"]}