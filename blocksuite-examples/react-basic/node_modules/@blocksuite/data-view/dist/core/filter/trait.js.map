{"version":3,"file":"trait.js","sourceRoot":"","sources":["../../../src/core/filter/trait.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAuB,MAAM,sBAAsB,CAAC;AAKrE,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAElD,MAAM,OAAO,WAAW;IAStB,YACW,OAAoC,EACpC,IAAgB,EAChB,MAER;QAJQ,YAAO,GAAP,OAAO,CAA6B;QACpC,SAAI,GAAJ,IAAI,CAAY;QAChB,WAAM,GAAN,MAAM,CAEd;QAbH,cAAS,GAAG,CAAC,MAAmB,EAAE,EAAE;YAClC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC,CAAC;QAEF,eAAU,GAAG,QAAQ,CAAC,GAAG,EAAE;YACzB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IAQA,CAAC;CACL;AAED,MAAM,CAAC,MAAM,cAAc,GAAG,cAAc,CAAc,QAAQ,CAAC,CAAC","sourcesContent":["import { computed, type ReadonlySignal } from '@preact/signals-core';\n\nimport type { SingleView } from '../view-manager/index.js';\nimport type { FilterGroup } from './types.js';\n\nimport { createTraitKey } from '../traits/key.js';\n\nexport class FilterTrait {\n  filterSet = (filter: FilterGroup) => {\n    this.config.filterSet(filter);\n  };\n\n  hasFilter$ = computed(() => {\n    return this.filter$.value.conditions.length > 0;\n  });\n\n  constructor(\n    readonly filter$: ReadonlySignal<FilterGroup>,\n    readonly view: SingleView,\n    readonly config: {\n      filterSet: (filter: FilterGroup) => void;\n    }\n  ) {}\n}\n\nexport const filterTraitKey = createTraitKey<FilterTrait>('filter');\n"]}