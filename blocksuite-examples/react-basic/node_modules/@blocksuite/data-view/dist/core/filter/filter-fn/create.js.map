{"version":3,"file":"create.js","sourceRoot":"","sources":["../../../../src/core/filter/filter-fn/create.ts"],"names":[],"mappings":"AAuDA,MAAM,CAAC,MAAM,YAAY,GAAG,CAK1B,MAAsC,EACtC,EAAE;IACF,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC","sourcesContent":["import type { ArrayTypeInstance } from '../../logical/composite-type.js';\nimport type { DTInstance } from '../../logical/data-type.js';\nimport type { TypeInstance, ValueTypeOf } from '../../logical/type.js';\nimport type {\n  TypeVarDefinitionInstance,\n  TypeVarReferenceInstance,\n} from '../../logical/type-variable.js';\n\nexport type FilterConfig<\n  Self extends TypeInstance = TypeInstance,\n  Args extends TypeInstance[] = TypeInstance[],\n  Vars extends TypeVarDefinitionInstance[] = TypeVarDefinitionInstance[],\n> = {\n  name: string;\n  label: string;\n  shortString: (\n    ...args: {\n      [K in keyof Args]:\n        | {\n            value: ValueTypeOf<ReplaceVar<Args[K], Vars>>;\n            type: ReplaceVar<Args[K], Vars>;\n          }\n        | undefined;\n    }\n  ) => string | undefined;\n  self: Self;\n  vars?: Vars;\n  args: Args;\n  impl: (\n    self: ValueTypeOf<ReplaceVar<Self, Vars>> | undefined,\n    ...args: { [K in keyof Args]: ValueTypeOf<ReplaceVar<Args[K], Vars>> }\n  ) => boolean;\n  defaultValue?: (args: {\n    [K in keyof Args]: ValueTypeOf<ReplaceVar<Args[K], Vars>>;\n  }) => ValueTypeOf<ReplaceVar<Self, Vars>>;\n};\ntype FindVar<\n  Vars extends TypeVarDefinitionInstance[],\n  Name extends string,\n> = Vars[number] extends infer Var\n  ? Var extends TypeVarDefinitionInstance<Name, infer R>\n    ? R\n    : never\n  : never;\ntype ReplaceVar<\n  Arg,\n  Vars extends TypeVarDefinitionInstance[],\n> = Arg extends TypeVarReferenceInstance\n  ? FindVar<Vars, Arg['varName']>\n  : Arg extends ArrayTypeInstance<infer Ele>\n    ? ArrayTypeInstance<ReplaceVar<Ele, Vars>>\n    : Arg extends DTInstance\n      ? Arg\n      : Arg;\n\nexport const createFilter = <\n  Self extends TypeInstance,\n  Args extends TypeInstance[],\n  Vars extends TypeVarDefinitionInstance[],\n>(\n  config: FilterConfig<Self, Args, Vars>\n) => {\n  return config;\n};\n"]}