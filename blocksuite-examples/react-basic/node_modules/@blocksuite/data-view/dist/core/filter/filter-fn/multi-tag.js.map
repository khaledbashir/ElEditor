{"version":3,"file":"multi-tag.js","sourceRoot":"","sources":["../../../../src/core/filter/filter-fn/multi-tag.ts"],"names":[],"mappings":"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","sourcesContent":["import { ct } from '../../logical/composite-type.js';\nimport { t } from '../../logical/type-presets.js';\nimport { tRef, tVar } from '../../logical/type-variable.js';\nimport { createFilter } from './create.js';\nimport { tagToString } from './utils.js';\n\nconst optionName = 'option' as const;\nexport const multiTagFilter = [\n  createFilter({\n    name: 'containsOneOf',\n    vars: [tVar(optionName, t.tag.instance())] as const,\n    self: ct.array.instance(tRef(optionName)),\n    args: [ct.array.instance(tRef(optionName))] as const,\n    label: 'Contains one of',\n    shortString: v =>\n      v ? `: ${tagToString(v.value, v.type.element)}` : undefined,\n    impl: (self, value) => {\n      if (!value.length) {\n        return true;\n      }\n      if (self == null) {\n        return false;\n      }\n      return value.some(v => self.includes(v));\n    },\n    defaultValue: args => [args[0][0]],\n  }),\n  createFilter({\n    name: 'doesNotContainOneOf',\n    vars: [tVar(optionName, t.tag.instance())] as const,\n    self: ct.array.instance(tRef(optionName)),\n    args: [ct.array.instance(tRef(optionName))] as const,\n    label: 'Does not contains one of',\n    shortString: v =>\n      v ? `: Not ${tagToString(v.value, v.type.element)}` : undefined,\n    impl: (self, value) => {\n      if (!value.length) {\n        return true;\n      }\n      if (self == null) {\n        return true;\n      }\n      return value.every(v => !self.includes(v));\n    },\n  }),\n  createFilter({\n    name: 'containsAll',\n    vars: [tVar(optionName, t.tag.instance())] as const,\n    self: ct.array.instance(tRef(optionName)),\n    args: [ct.array.instance(tRef(optionName))] as const,\n    label: 'Contains all',\n    shortString: v =>\n      v ? `: ${tagToString(v.value, v.type.element)}` : undefined,\n    impl: (self, value) => {\n      if (!value.length) {\n        return true;\n      }\n      if (self == null) {\n        return false;\n      }\n      return value.every(v => self.includes(v));\n    },\n    defaultValue: args => args[0],\n  }),\n  createFilter({\n    name: 'doesNotContainAll',\n    vars: [tVar(optionName, t.tag.instance())] as const,\n    self: ct.array.instance(tRef(optionName)),\n    args: [ct.array.instance(tRef(optionName))] as const,\n    label: 'Does not contains all',\n    shortString: v =>\n      v ? `: Not ${tagToString(v.value, v.type.element)}` : undefined,\n    impl: (self, value) => {\n      if (!value.length) {\n        return true;\n      }\n      if (self == null) {\n        return true;\n      }\n      return !value.every(v => self.includes(v));\n    },\n  }),\n];\n"]}