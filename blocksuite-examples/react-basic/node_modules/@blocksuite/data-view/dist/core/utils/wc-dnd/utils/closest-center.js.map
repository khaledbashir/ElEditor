{"version":3,"file":"closest-center.js","sourceRoot":"","sources":["../../../../../src/core/utils/wc-dnd/utils/closest-center.ts"],"names":[],"mappings":"AAMA,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAE/D;;GAEG;AACH,MAAM,iBAAiB,GAAG,CACxB,IAAmB,EACnB,IAAI,GAAG,IAAI,CAAC,IAAI,EAChB,GAAG,GAAG,IAAI,CAAC,GAAG,EACD,EAAE,CAAC,CAAC;IACjB,CAAC,EAAE,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG;IAC1B,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG;CAC3B,CAAC,CAAC;AAEH;;;GAGG;AACH,MAAM,CAAC,MAAM,aAAa,GAAuB,CAAC,EAChD,aAAa,EACb,cAAc,EACd,mBAAmB,GACpB,EAAE,EAAE;IACH,IAAI,OAAkD,CAAC;IACvD,MAAM,UAAU,GAAG,iBAAiB,CAAC,aAAa,CAAC,CAAC;IAEpD,KAAK,MAAM,kBAAkB,IAAI,mBAAmB,EAAE,CAAC;QACrD,MAAM,EAAE,EAAE,EAAE,GAAG,kBAAkB,CAAC;QAClC,MAAM,IAAI,GAAG,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAEpC,IAAI,IAAI,EAAE,CAAC;YACT,MAAM,WAAW,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,UAAU,CAAC,CAAC;YACzE,IAAI,CAAC,OAAO,IAAI,WAAW,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;gBAC5C,OAAO,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC;YACvC,CAAC;QACH,CAAC;IACH,CAAC;IACD,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAClC,CAAC,CAAC","sourcesContent":["import type {\n  CollisionDetection,\n  Coordinates,\n  DndClientRect,\n} from '../types.js';\n\nimport { distanceBetween } from './distance-between-points.js';\n\n/**\n * Returns the coordinates of the center of a given ClientRect\n */\nconst centerOfRectangle = (\n  rect: DndClientRect,\n  left = rect.left,\n  top = rect.top\n): Coordinates => ({\n  x: left + rect.width * 0.5,\n  y: top + rect.height * 0.5,\n});\n\n/**\n * Returns the closest rectangles from an array of rectangles to the center of a given\n * rectangle.\n */\nexport const closestCenter: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  let closest: { id: string; value: number } | undefined;\n  const centerRect = centerOfRectangle(collisionRect);\n\n  for (const droppableContainer of droppableContainers) {\n    const { id } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const distBetween = distanceBetween(centerOfRectangle(rect), centerRect);\n      if (!closest || distBetween < closest.value) {\n        closest = { id, value: distBetween };\n      }\n    }\n  }\n  return closest ? [closest] : [];\n};\n"]}