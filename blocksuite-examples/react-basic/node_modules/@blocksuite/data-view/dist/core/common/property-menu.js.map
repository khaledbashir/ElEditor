{"version":3,"file":"property-menu.js","sourceRoot":"","sources":["../../../src/core/common/property-menu.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,4CAA4C,CAAC;AAClE,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,OAAO,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAI1C,OAAO,EAAE,YAAY,EAAE,MAAM,iCAAiC,CAAC;AAE/D,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,QAAkB,EAAE,EAAE;IAChD,IAAI,SAAS,EAAE,CAAC;QACd,OAAO,IAAI,CAAC,KAAK,CAAC;YAChB,MAAM,EAAE,IAAI,CAAA;;YAEN,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC;;OAEhC;YACD,YAAY,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK;YAClC,QAAQ,EAAE,IAAI,CAAC,EAAE;gBACf,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACzB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,OAAO,IAAI,CAAC,KAAK,CAAC;QAChB,MAAM,EAAE,IAAI,CAAA;;UAEN,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC;;KAEhC;QACD,YAAY,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK;QAClC,UAAU,EAAE,IAAI,CAAC,EAAE;YACjB,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC;KACF,CAAC,CAAC;AACL,CAAC,CAAC;AACF,MAAM,CAAC,MAAM,UAAU,GAAG,CAAC,QAAkB,EAAE,EAAE;IAC/C,OAAO,IAAI,CAAC,KAAK,CAAC;QAChB,KAAK,EAAE;YACL,IAAI,CAAC,OAAO,CAAC;gBACX,IAAI,EAAE,MAAM;gBACZ,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,KAAK,CAAC,KAAK,KAAK,OAAO;gBACjE,OAAO,EAAE,IAAI,CAAA;;;;YAIT,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC;YAC3B,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAChC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,KAAK,CAAC,KAAK,CACrC,EAAE,MAAM,CAAC,IAAI;eACT;gBACP,OAAO,EAAE;oBACP,KAAK,EAAE;wBACL,IAAI,EAAE,eAAe;qBACtB;oBACD,KAAK,EAAE;wBACL,IAAI,CAAC,KAAK,CAAC;4BACT,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;gCAC9C,OAAO,IAAI,CAAC,MAAM,CAAC;oCACjB,UAAU,EAAE,MAAM,CAAC,IAAI,KAAK,QAAQ,CAAC,KAAK,CAAC,KAAK;oCAChD,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;oCACxB,MAAM,EAAE,YAAY,CAClB,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,CAC3C;oCACD,MAAM,EAAE,GAAG,EAAE;wCACX,IAAI,QAAQ,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC;4CACzC,OAAO;wCACT,CAAC;wCACD,QAAQ,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oCAClC,CAAC;iCACF,CAAC,CAAC;4BACL,CAAC,CAAC;yBACH,CAAC;qBACH;iBACF;aACF,CAAC;SACH;KACF,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { menu } from '@blocksuite/affine-components/context-menu';\nimport { IS_MOBILE } from '@blocksuite/global/env';\nimport { html } from 'lit/static-html.js';\n\nimport type { Property } from '../view-manager/property.js';\n\nimport { renderUniLit } from '../utils/uni-component/index.js';\n\nexport const inputConfig = (property: Property) => {\n  if (IS_MOBILE) {\n    return menu.input({\n      prefix: html`\n        <div class=\"affine-database-column-type-menu-icon\">\n          ${renderUniLit(property.icon)}\n        </div>\n      `,\n      initialValue: property.name$.value,\n      onChange: text => {\n        property.nameSet(text);\n      },\n    });\n  }\n  return menu.input({\n    prefix: html`\n      <div class=\"affine-database-column-type-menu-icon\">\n        ${renderUniLit(property.icon)}\n      </div>\n    `,\n    initialValue: property.name$.value,\n    onComplete: text => {\n      property.nameSet(text);\n    },\n  });\n};\nexport const typeConfig = (property: Property) => {\n  return menu.group({\n    items: [\n      menu.subMenu({\n        name: 'Type',\n        hide: () => !property.typeSet || property.type$.value === 'title',\n        postfix: html` <div\n          class=\"affine-database-column-type-icon\"\n          style=\"color: var(--affine-text-secondary-color);gap:4px;font-size: 14px;\"\n        >\n          ${renderUniLit(property.icon)}\n          ${property.view.propertyMetas.find(\n            v => v.type === property.type$.value\n          )?.config.name}\n        </div>`,\n        options: {\n          title: {\n            text: 'Property type',\n          },\n          items: [\n            menu.group({\n              items: property.view.propertyMetas.map(config => {\n                return menu.action({\n                  isSelected: config.type === property.type$.value,\n                  name: config.config.name,\n                  prefix: renderUniLit(\n                    property.view.propertyIconGet(config.type)\n                  ),\n                  select: () => {\n                    if (property.type$.value === config.type) {\n                      return;\n                    }\n                    property.typeSet?.(config.type);\n                  },\n                });\n              }),\n            }),\n          ],\n        },\n      }),\n    ],\n  });\n};\n"]}