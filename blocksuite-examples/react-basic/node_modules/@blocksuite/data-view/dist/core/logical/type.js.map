{"version":3,"file":"type.js","sourceRoot":"","sources":["../../../src/core/logical/type.ts"],"names":[],"mappings":"","sourcesContent":["import type Zod from 'zod';\n\nimport type { TypeVarContext } from './type-variable.js';\n\nexport type AnyTypeInstance = {\n  readonly name: string;\n};\n\nexport interface TypeDefinition {\n  is(typeInstance: AnyTypeInstance): boolean;\n}\n\nexport interface TypeInstance extends AnyTypeInstance {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  readonly _valueType: any;\n  readonly _validate: Zod.ZodSchema;\n\n  valueValidate(value: unknown): value is this['_valueType'];\n\n  subst(ctx: TypeVarContext): TypeInstance | void;\n\n  unify(ctx: TypeVarContext, type: TypeInstance, unify: Unify): boolean;\n}\n\nexport type ValueTypeOf<T> = T extends TypeInstance ? T['_valueType'] : never;\n\nexport type Unify = (\n  ctx: TypeVarContext,\n  type: TypeInstance | undefined,\n  expect: TypeInstance | undefined\n) => boolean;\nexport type TypeConvertConfig<\n  From extends TypeInstance = TypeInstance,\n  To extends TypeInstance = TypeInstance,\n> = {\n  from: From;\n  to: To;\n  convert: (value: ValueTypeOf<From>) => ValueTypeOf<To>;\n};\n"]}