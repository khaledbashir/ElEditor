{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../src/core/property/types.ts"],"names":[],"mappings":"","sourcesContent":["import type { Disposable } from '@blocksuite/global/utils';\n\nimport type { DataSource } from '../data-source/base.js';\nimport type { TypeInstance } from '../logical/type.js';\n\nexport type WithCommonPropertyConfig<T = {}> = T & {\n  dataSource: DataSource;\n};\nexport type GetPropertyDataFromConfig<T> =\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  T extends PropertyConfig<infer R, any> ? R : never;\nexport type GetCellDataFromConfig<T> =\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  T extends PropertyConfig<any, infer R> ? R : never;\nexport type PropertyConfig<\n  Data extends NonNullable<unknown> = NonNullable<unknown>,\n  Value = unknown,\n> = {\n  name: string;\n  defaultData: () => Data;\n  type: (\n    config: WithCommonPropertyConfig<{\n      data: Data;\n    }>\n  ) => TypeInstance;\n  formatValue?: (\n    config: WithCommonPropertyConfig<{\n      value: Value;\n      data: Data;\n    }>\n  ) => Value;\n  isEmpty: (\n    config: WithCommonPropertyConfig<{\n      value?: Value;\n    }>\n  ) => boolean;\n  minWidth?: number;\n  values?: (\n    config: WithCommonPropertyConfig<{\n      value?: Value;\n    }>\n  ) => unknown[];\n  cellToString: (\n    config: WithCommonPropertyConfig<{\n      value: Value;\n      data: Data;\n    }>\n  ) => string;\n  cellFromString: (\n    config: WithCommonPropertyConfig<{\n      value: string;\n      data: Data;\n    }>\n  ) => {\n    value: unknown;\n    data?: Record<string, unknown>;\n  };\n  cellToJson: (\n    config: WithCommonPropertyConfig<{\n      value: Value;\n      data: Data;\n    }>\n  ) => DVJSON;\n  cellFromJson: (\n    config: WithCommonPropertyConfig<{\n      value: DVJSON;\n      data: Data;\n    }>\n  ) => Value | undefined;\n  addGroup?: (\n    config: WithCommonPropertyConfig<{\n      text: string;\n      oldData: Data;\n    }>\n  ) => Data;\n  onUpdate?: (\n    config: WithCommonPropertyConfig<{\n      value: Value;\n      data: Data;\n      callback: () => void;\n    }>\n  ) => Disposable;\n  valueUpdate?: (\n    config: WithCommonPropertyConfig<{\n      value: Value;\n      data: Data;\n      newValue: Value;\n    }>\n  ) => Value;\n};\n\nexport type DVJSON =\n  | null\n  | number\n  | string\n  | boolean\n  | DVJSON[]\n  | {\n      [k: string]: DVJSON;\n    };\n"]}