{"version":3,"file":"telemetry-service.js","sourceRoot":"","sources":["../../../src/services/telemetry-service/telemetry-service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAC;AAgCzD,MAAM,CAAC,MAAM,iBAAiB,GAAG,gBAAgB,CAC/C,wBAAwB,CACzB,CAAC","sourcesContent":["import { createIdentifier } from '@blocksuite/global/di';\n\nimport type { OutDatabaseAllEvents } from './database.js';\nimport type { LinkToolbarEvents } from './link.js';\nimport type {\n  AttachmentUploadedEvent,\n  DocCreatedEvent,\n  ElementCreationEvent,\n  ElementLockEvent,\n  MindMapCollapseEvent,\n  TelemetryEvent,\n} from './types.js';\n\nexport type TelemetryEventMap = OutDatabaseAllEvents &\n  LinkToolbarEvents & {\n    DocCreated: DocCreatedEvent;\n    Link: TelemetryEvent;\n    LinkedDocCreated: TelemetryEvent;\n    SplitNote: TelemetryEvent;\n    CanvasElementAdded: ElementCreationEvent;\n    EdgelessElementLocked: ElementLockEvent;\n    ExpandedAndCollapsed: MindMapCollapseEvent;\n    AttachmentUploadedEvent: AttachmentUploadedEvent;\n  };\n\nexport interface TelemetryService {\n  track<T extends keyof TelemetryEventMap>(\n    eventName: T,\n    props: TelemetryEventMap[T]\n  ): void;\n}\n\nexport const TelemetryProvider = createIdentifier<TelemetryService>(\n  'AffineTelemetryService'\n);\n"]}