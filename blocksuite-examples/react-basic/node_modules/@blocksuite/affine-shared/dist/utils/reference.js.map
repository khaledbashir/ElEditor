{"version":3,"file":"reference.js","sourceRoot":"","sources":["../../src/utils/reference.ts"],"names":[],"mappings":"AAEA,OAAO,SAAS,MAAM,kBAAkB,CAAC;AAEzC;;GAEG;AACH,MAAM,UAAU,kBAAkB,CAAC,EACjC,MAAM,EACN,MAAM,EACN,KAAK,EACL,WAAW,GACG;IACd,MAAM,IAAI,GAAkB,EAAE,MAAM,EAAE,CAAC;IACvC,IAAI,MAAM;QAAE,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;IAC5C,IAAI,KAAK;QAAE,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IAC9B,IAAI,WAAW;QAAE,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IAChD,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,eAAe,CAAC,EAAE,MAAM,EAAiB;IACvD,IAAI,CAAC,MAAM;QAAE,OAAO,KAAK,CAAC;IAC1B,IAAI,CAAC,MAAM,CAAC,IAAI;QAAE,OAAO,KAAK,CAAC;IAC/B,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,EAAE,GAAG,MAAM,CAAC;IACnE,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC;QAAE,OAAO,IAAI,CAAC;IACjD,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC;QAAE,OAAO,IAAI,CAAC;IACrD,IAAI,UAAU,IAAI,aAAa;QAAE,OAAO,IAAI,CAAC;IAC7C,OAAO,KAAK,CAAC;AACf,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,gCAAgC,CAAC,EAC/C,MAAM,EACN,MAAM,GACQ;IACd,MAAM,IAAI,GAAkB,EAAE,MAAM,EAAE,CAAC;IACvC,IAAI,MAAM;QAAE,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;IAC5C,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["import type { ReferenceInfo } from '@blocksuite/affine-model';\n\nimport cloneDeep from 'lodash.clonedeep';\n\n/**\n * Clones reference info.\n */\nexport function cloneReferenceInfo({\n  pageId,\n  params,\n  title,\n  description,\n}: ReferenceInfo) {\n  const info: ReferenceInfo = { pageId };\n  if (params) info.params = cloneDeep(params);\n  if (title) info.title = title;\n  if (description) info.description = description;\n  return info;\n}\n\n/**\n * Returns true if it is a link to block or element.\n */\nexport function referenceToNode({ params }: ReferenceInfo) {\n  if (!params) return false;\n  if (!params.mode) return false;\n  const { blockIds, elementIds, databaseId, databaseRowId } = params;\n  if (blockIds && blockIds.length > 0) return true;\n  if (elementIds && elementIds.length > 0) return true;\n  if (databaseId || databaseRowId) return true;\n  return false;\n}\n\n/**\n * Clones reference info without the aliases.\n * In `EmbedSyncedDocModel`, the aliases are not needed at the moment.\n */\nexport function cloneReferenceInfoWithoutAliases({\n  pageId,\n  params,\n}: ReferenceInfo) {\n  const info: ReferenceInfo = { pageId };\n  if (params) info.params = cloneDeep(params);\n  return info;\n}\n"]}