{"version":3,"file":"fetch.js","sourceRoot":"","sources":["../../../src/adapters/utils/fetch.ts"],"names":[],"mappings":"AAAA,MAAM,UAAU,GAAG,KAAK,EAAE,GAAW,EAAE,IAAkB,EAAE,KAAc,EAAE,EAAE;IAC3E,IAAI,CAAC;QACH,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,OAAO,MAAM,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAChC,CAAC;QACD,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC;YAC5B,OAAO,MAAM,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAChC,CAAC;QACD,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC;YAC5B,OAAO,MAAM,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAChC,CAAC;QACD,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;YAC3C,OAAO,MAAM,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAChC,CAAC;QACD,OAAO,MAAM,KAAK,CAAC,KAAK,GAAG,OAAO,GAAG,kBAAkB,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC;aAChE,IAAI,CAAC,GAAG,CAAC,EAAE;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;gBACZ,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;YACjD,CAAC;YACD,OAAO,GAAG,CAAC;QACb,CAAC,CAAC;aACD,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;IACnC,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,IAAI,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;QAC7C,OAAO,IAAI,CAAC;IACd,CAAC;AACH,CAAC,CAAC;AAEF,MAAM,SAAS,GAAG,CAAC,GAAW,EAAE,EAAE,CAChC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;IACvB,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC;IACxB,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAE1B,MAAM,CAAC,MAAM,UAAU,GAAG;IACxB,UAAU;IACV,SAAS;CACV,CAAC","sourcesContent":["const fetchImage = async (url: string, init?: RequestInit, proxy?: string) => {\n  try {\n    if (!proxy) {\n      return await fetch(url, init);\n    }\n    if (url.startsWith('blob:')) {\n      return await fetch(url, init);\n    }\n    if (url.startsWith('data:')) {\n      return await fetch(url, init);\n    }\n    if (url.startsWith(window.location.origin)) {\n      return await fetch(url, init);\n    }\n    return await fetch(proxy + '?url=' + encodeURIComponent(url), init)\n      .then(res => {\n        if (!res.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return res;\n      })\n      .catch(() => fetch(url, init));\n  } catch (error) {\n    console.warn('Error fetching image:', error);\n    return null;\n  }\n};\n\nconst fetchable = (url: string) =>\n  url.startsWith('http:') ||\n  url.startsWith('https:') ||\n  url.startsWith('data:');\n\nexport const FetchUtils = {\n  fetchImage,\n  fetchable,\n};\n"]}