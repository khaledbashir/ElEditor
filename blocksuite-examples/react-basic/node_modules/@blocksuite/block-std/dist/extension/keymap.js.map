{"version":3,"file":"keymap.js","sourceRoot":"","sources":["../../src/extension/keymap.ts"],"names":[],"mappings":"AAIA,OAAO,EAAE,gBAAgB,EAAE,MAAM,kBAAkB,CAAC;AAEpD,IAAI,EAAE,GAAG,CAAC,CAAC;AAEX;;;;;;;;;;;;;;;;;;;;;;;;;;;GA2BG;AACH,MAAM,UAAU,eAAe,CAC7B,aAAqE,EACrE,OAAsB;IAEtB,OAAO;QACL,KAAK,EAAE,EAAE,CAAC,EAAE;YACV,EAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,EAAE,EAAE,CAAC,EAAE;gBAC7C,MAAM,EAAE,aAAa;gBACrB,OAAO;aACR,CAAC,CAAC;QACL,CAAC;KACF,CAAC;AACJ,CAAC","sourcesContent":["import type { EventOptions, UIEventHandler } from '../event/index.js';\nimport type { BlockStdScope } from '../scope/index.js';\nimport type { ExtensionType } from './extension.js';\n\nimport { KeymapIdentifier } from '../identifier.js';\n\nlet id = 1;\n\n/**\n * Create a keymap extension.\n *\n * @param keymapFactory\n * Create keymap of the extension.\n * It should return an object with `keymap` and `options`.\n *\n * `keymap` is a record of keymap.\n *\n * @param options\n * `options` is an optional object that restricts the event to be handled.\n *\n * @example\n * ```ts\n * import { KeymapExtension } from '@blocksuite/block-std';\n *\n * const MyKeymapExtension = KeymapExtension(std => {\n *   return {\n *     keymap: {\n *       'mod-a': SelectAll\n *     }\n *     options: {\n *       flavour: 'affine:paragraph'\n *     }\n *   }\n * });\n * ```\n */\nexport function KeymapExtension(\n  keymapFactory: (std: BlockStdScope) => Record<string, UIEventHandler>,\n  options?: EventOptions\n): ExtensionType {\n  return {\n    setup: di => {\n      di.addImpl(KeymapIdentifier(`Keymap-${id++}`), {\n        getter: keymapFactory,\n        options,\n      });\n    },\n  };\n}\n"]}