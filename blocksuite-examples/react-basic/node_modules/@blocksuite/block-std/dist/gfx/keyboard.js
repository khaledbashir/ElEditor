import { DisposableGroup } from '@blocksuite/global/utils';
import { Signal } from '@preact/signals-core';
export class KeyboardController {
    constructor(std) {
        this.std = std;
        this._disposable = new DisposableGroup();
        this.shiftKey$ = new Signal(false);
        this.spaceKey$ = new Signal(false);
        this._init();
    }
    _init() {
        this._disposable.add(this._listenKeyboard('keydown', evt => {
            this.shiftKey$.value = evt.shiftKey && evt.key === 'Shift';
            this.spaceKey$.value = evt.code === 'Space';
        }));
        this._disposable.add(this._listenKeyboard('keyup', evt => {
            this.shiftKey$.value =
                evt.shiftKey && evt.key === 'Shift' ? true : false;
            if (evt.code === 'Space') {
                this.spaceKey$.value = false;
            }
        }));
    }
    _listenKeyboard(event, callback) {
        document.addEventListener(event, callback, false);
        return () => {
            document.removeEventListener(event, callback, false);
        };
    }
    dispose() {
        this._disposable.dispose();
    }
}
//# sourceMappingURL=keyboard.js.map